<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=generator content="Hugo 0.109.0"><meta name=robots content="noindex, nofollow"><meta name=description content="Workrave is a program that assists in the recovery and prevention of Repetitive Strain Injury (RSI). The program frequently alerts you to take micro-pauses, rest breaks and restricts you to your daily limit. The program runs on GNU/Linux and Microsoft Windows.
"><link rel="shortcut icon" type=image/x-icon href=/images/favicon.ico><link rel=stylesheet href=https://workrave.org/sass/main.min.ce4ba77d420210f043b2eafed49388defb4f40305be1d398a1ad593d5a932d05.css integrity="sha256-zkunfUICEPBDsur+1JOI3vtPQDBb4dOYoa1ZPVqTLQU=" media=screen><link rel=stylesheet href=https://workrave.org/css/main.min.163e0baf8d5e552480563d39ab81526b5107da66d4ad248880e87497fec53ea8.css integrity="sha256-Fj4Lr41eVSSAVj05q4FSa1EH2mbUrSSIgOh0l/7FPqg=" media=screen><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.7.1/css/all.css integrity=sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr crossorigin=anonymous><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Montserrat:300,400,500&display=swap"><link rel=canonical href=https://workrave.org/bugzilla/1166/><title>&#183; Workrave</title></head><body class=bg-light><div class="page-content bg-white"><nav class="navbar fixed-top navbar-expand-lg navbar-light"><div class=container><a class=navbar-brand href=/><img src=/images/workrave-logo.svg alt=Workrave class=page-logo></a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#mainNavBar aria-controls=mainNavBar aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=mainNavBar><ul class="navbar-nav ml-auto"><li class=nav-item><a class="nav-link text-uppercase" href=/about>About</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle text-uppercase" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Get Help</a><div class="dropdown-menu dropdown-menu-right" aria-labelledby=navbarDropdown><a class="dropdown-item text-uppercase" href=/faq/>FAQs</a>
<a class="dropdown-item text-uppercase" href=/docs/>Documentation</a>
<a class="dropdown-item text-uppercase" href=/support/>Support</a></div></li><li class=nav-item><a class="nav-link text-uppercase" href=/contribute>Contribute</a></li><li class=nav-item><a class="nav-link text-uppercase" href=/download/>Downloads</a></li><li class=nav-item><a class="nav-link text-uppercase" href=/blog/>Blog</a></li></ul></div></div></nav><div class="jumbotron jumbotron-fluid banner-style-small"></div><div class="container-lg mt-5 bugzilla" style=max-width:1280px><div class=row><div class="h3 col-md-12 bg-light font-weight-bold">Bug&nbsp;1166 - Workrave needs a few minor fixes to compile on OS X Mavericks</div></div><div class="row py-5"><div class=col-6><div class=row><div class="col-4 text-right font-weight-bold">Status:</div><div class=col-8>RESOLVED WONTFIX</div></div><div class=row><div class="col-4 text-right font-weight-bold">Component:</div><div class=col-8>Core :: UNIX</div></div><div class=row><div class="col-4 text-right font-weight-bold">Version:</div><div class=col-8>daily</div></div><div class=row><div class="col-4 text-right font-weight-bold">Hardware:</div><div class=col-8>Macintosh Mac OS</div></div><div class=row><div class="col-4 text-right font-weight-bold">Importance:</div><div class=col-8>P5 major</div></div><div class=row><div class="col-4 text-right font-weight-bold">Target Milestone:</div><div class=col-8>---</div></div><div class=row><div class="col-4 text-right font-weight-bold">Assignee:</div><div class=col-8>Rob Caelers</div></div><div class=row><div class="col-4 text-right font-weight-bold">URL:</div><div class=col-8></div></div><div class=row><div class="col-4 text-right font-weight-bold">Depends on:</div><div class=col-8></div></div><div class=row><div class="col-4 text-right font-weight-bold">Blocks:</div><div class=col-8></div></div></div><div class=col-6><div class=row><div class="col-4 text-right font-weight-bold">Reported:</div><div class=col-8>May 31 2014 09:36:09 UTC</div></div><div class=row><div class="col-4 text-right font-weight-bold">by:</div><div class=col-8>Sean</div></div><div class=row><div class="col-4 text-right font-weight-bold">Modified:</div><div class=col-8>Dec 23 2015 20:17:58 UTC</div></div><div class=row><div class="col-4 text-right font-weight-bold">CC List:</div><div class=col-8>Sean</div></div></div></div><div class="row pb-4"><div class=col-12><div class=card><h5 class="card-header p-1" id=history-header><button class="btn btn-light collapsed w-100 text-left" type=button data-toggle=collapse data-target=#history-content aria-expanded=false aria-controls=history-content>
<i class="fa fa-chevron-down pull-right"></i>&nbsp;history</button></h5><div class="collapse p-0" id=history-content aria-labelledby=history-header><div class="card-body p-0"><table class="table table-dark table-bordered mb-0"><thead><tr><th scope=col>Who</th><th scope=col>When</th><th scope=col>What</th><th scope=col>Removed</th><th scope=col>Added</th></tr></thead><tbody><tr><th scope=row rowspan=1>Sean</th><td rowspan=1>May 31 2014 09:36:41 UTC</td><td>cc</td><td></td><td>Sean</td></tr><tr><th scope=row rowspan=2>Rob Caelers</th><td rowspan=2>Dec 23 2015 20:17:58 UTC</td><td>status</td><td>NEW</td><td>RESOLVED</td></tr><tr><td>resolution</td><td></td><td>WONTFIX</td></tr></tbody></table></div></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Description</div><div class=float-left>Sean&nbsp;&nbsp;May 31 2014 09:36:09 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>So way back in 2009, I got workrave compiling somewhat on OS X. Due to a recent request from someone who stumbled across my old post, I decided to give it another try. It is doable, although a bit clunky.

Outside of mostly installing pre-requisites I had to edit 3 files to get everything to compile cleanly and run. These were configure, ./backend/src/Makefile, and ./frontend/common/src/x11/Makefile. I could submit patches, but honestly, I&#39;m not sure exactly what changes need to be made to get the Makefiles to generate properly.

It would be great if you would put in the required changes for the Darwin platform, so that the makefile generate properly for the platform and the only thing really required is installing the dependencies.

Sean


------------------------What I did-----------------

Install/Upgrade Xcode: https://developer.apple.com/xcode/downloads/
run &#39;xcode-select —install’ to install the CLI tools
Install/Upgrade XQuartz: http://xquartz.macosforge.org/landing/
Install Homebrew: http://brew.sh/

brew update
brew install gtk&#43; gtkmm gettext automake autoconf git python wget
wget https://bootstrap.pypa.io/get-pip.py
python get-pip.py
pip install cheetah
git clone gi**@gi**.com:rcaelers/workrave.git
cd workrave
#This gets autopoint into the path
export PATH=$PATH:/usr/local/Cellar/gettext/0.18.3.2/bin/
./autogen.sh
export PKG_CONFIG_PATH=&#34;/usr/local/lib/pkgconfig:/opt/X11/lib/pkgconfig”

vi ./configure
  MODIFY THIS LINE TO LOOK LIKE THIS:
    DEFS=&#34;-DHAVE_CONFIG_H -D_DARWIN_C_SOURCE&#34;

./configure

vi ./backend/src/Makefile
  MODIFY THIS LINE TO LOOK LIKE THIS:
    SUBDIRS = unix win32

vi ./frontend/common/src/x11/Makefile
  MODIFY THIS LINE TO LOOK LIKE THIS:
    libworkrave_frontend_common_x11_la_CXXFLAGS = \
          -DWORKRAVE_PKGDATADIR=&#34;\&#34;${pkgdatadir}\&#34;&#34; \
          -D_XOPEN_SOURCE=600 \
          -W -I$(top_srcdir)/frontend/common/src \
          -I$(top_srcdir)/frontend/common/include \
          -I$(top_srcdir)/common/include -I$(top_srcdir)/backend/include -I/opt/X11/include..

./make install

Launch XQuartz

/usr/local/bin/workrave</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 1</div><div class=float-left>Rob Caelers&nbsp;&nbsp;Dec 23 2015 20:17:58 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>The Gtk OS X port of Workrave is not longer maintained (at least not by me). I&#39;m currently porting Workrave to Qt5. Feel free to submit pull request to fix the Gtk/OSX port. But I&#39;m not going to fix any Gtk/OSX issues anymore.</pre></div></div></div></div><div class="row pb-5"></div></div></div><footer class="container bg-light page-footer"><div class="row my-2"><div class="col-12 col-md text-muted"><img src=/images/workrave-logo.svg alt=Workrave style=width:auto;height:20px>
<small class=d-block>&copy; 2001-2020 Raymond Penners & Rob Caelers</small></div><div class="col-12 col-md text-muted"><small>Unless otherwise stated, all text and images on this website are licensed
under the General Public License version 3 or later.<br>This website is powered by <a href=https://gohugo.io>Hugo</a></small></div></div></footer><script src=https://code.jquery.com/jquery-3.4.1.min.js integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js integrity=sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo crossorigin=anonymous></script>
<script src=https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js integrity=sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6 crossorigin=anonymous></script>
<script type=text/javascript src=https://workrave.org/js/main.min.428d5e8643be5482cc6cf2fb1c80b2e5625f8df018f53d6474a9f4d58668e74c58b35e455ed592b933e43659cc50dc11f452e947f61df3fd7b137161a785b411.js integrity="sha512-Qo1ehkO+VILMbPL7HICy5WJfjfAY9T1kdKn01YZo50xYs15FXtWSuTPkNlnMUNwR9FLpR/Yd8/17E3Fhp4W0EQ=="></script></body></html>