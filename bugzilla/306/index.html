<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=generator content="Hugo 0.109.0"><meta name=robots content="noindex, nofollow"><meta name=description content="Workrave is a program that assists in the recovery and prevention of Repetitive Strain Injury (RSI). The program frequently alerts you to take micro-pauses, rest breaks and restricts you to your daily limit. The program runs on GNU/Linux and Microsoft Windows.
"><link rel="shortcut icon" type=image/x-icon href=/images/favicon.ico><link rel=stylesheet href=https://workrave.org/sass/main.min.ce4ba77d420210f043b2eafed49388defb4f40305be1d398a1ad593d5a932d05.css integrity="sha256-zkunfUICEPBDsur+1JOI3vtPQDBb4dOYoa1ZPVqTLQU=" media=screen><link rel=stylesheet href=https://workrave.org/css/main.min.163e0baf8d5e552480563d39ab81526b5107da66d4ad248880e87497fec53ea8.css integrity="sha256-Fj4Lr41eVSSAVj05q4FSa1EH2mbUrSSIgOh0l/7FPqg=" media=screen><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.7.1/css/all.css integrity=sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr crossorigin=anonymous><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Montserrat:300,400,500&display=swap"><link rel=canonical href=https://workrave.org/bugzilla/306/><title>&#183; Workrave</title></head><body class=bg-light><div class="page-content bg-white"><nav class="navbar fixed-top navbar-expand-lg navbar-light"><div class=container><a class=navbar-brand href=/><img src=/images/workrave-logo.svg alt=Workrave class=page-logo></a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#mainNavBar aria-controls=mainNavBar aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=mainNavBar><ul class="navbar-nav ml-auto"><li class=nav-item><a class="nav-link text-uppercase" href=/about>About</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle text-uppercase" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Get Help</a><div class="dropdown-menu dropdown-menu-right" aria-labelledby=navbarDropdown><a class="dropdown-item text-uppercase" href=/faq/>FAQs</a>
<a class="dropdown-item text-uppercase" href=/docs/>Documentation</a>
<a class="dropdown-item text-uppercase" href=/support/>Support</a></div></li><li class=nav-item><a class="nav-link text-uppercase" href=/contribute>Contribute</a></li><li class=nav-item><a class="nav-link text-uppercase" href=/download/>Downloads</a></li><li class=nav-item><a class="nav-link text-uppercase" href=/blog/>Blog</a></li></ul></div></div></nav><div class="jumbotron jumbotron-fluid banner-style-small"></div><div class="container-lg mt-5 bugzilla" style=max-width:1280px><div class=row><div class="h3 col-md-12 bg-light font-weight-bold">Bug&nbsp;306 - Workrave doesn't react well to suspend/resume</div></div><div class="row py-5"><div class=col-6><div class=row><div class="col-4 text-right font-weight-bold">Status:</div><div class=col-8>RESOLVED FIXED</div></div><div class=row><div class="col-4 text-right font-weight-bold">Component:</div><div class=col-8>Core</div></div><div class=row><div class="col-4 text-right font-weight-bold">Version:</div><div class=col-8>1.4.1</div></div><div class=row><div class="col-4 text-right font-weight-bold">Hardware:</div><div class=col-8>PC Linux</div></div><div class=row><div class="col-4 text-right font-weight-bold">Importance:</div><div class=col-8>P4 normal</div></div><div class=row><div class="col-4 text-right font-weight-bold">Target Milestone:</div><div class=col-8>---</div></div><div class=row><div class="col-4 text-right font-weight-bold">Assignee:</div><div class=col-8>Rob Caelers</div></div><div class=row><div class="col-4 text-right font-weight-bold">URL:</div><div class=col-8></div></div><div class=row><div class="col-4 text-right font-weight-bold">Depends on:</div><div class=col-8></div></div><div class=row><div class="col-4 text-right font-weight-bold">Blocks:</div><div class=col-8></div></div></div><div class=col-6><div class=row><div class="col-4 text-right font-weight-bold">Reported:</div><div class=col-8>Sep 10 2003 12:13:16 UTC</div></div><div class=row><div class="col-4 text-right font-weight-bold">by:</div><div class=col-8>Hugo Haas</div></div><div class=row><div class="col-4 text-right font-weight-bold">Modified:</div><div class=col-8>Mar 9 2008 23:16:59 UTC</div></div><div class=row><div class="col-4 text-right font-weight-bold">CC List:</div><div class=col-8>C Schoen</div></div><div class=row><div class="col-4 text-right font-weight-bold"></div><div class=col-8>Francois Marier</div></div></div></div><div class="row pb-4"><div class=col-12><div class=card><h5 class="card-header p-1" id=history-header><button class="btn btn-light collapsed w-100 text-left" type=button data-toggle=collapse data-target=#history-content aria-expanded=false aria-controls=history-content>
<i class="fa fa-chevron-down pull-right"></i>&nbsp;history</button></h5><div class="collapse p-0" id=history-content aria-labelledby=history-header><div class="card-body p-0"><table class="table table-dark table-bordered mb-0"><thead><tr><th scope=col>Who</th><th scope=col>When</th><th scope=col>What</th><th scope=col>Removed</th><th scope=col>Added</th></tr></thead><tbody><tr><th scope=row rowspan=1>Hugo Haas</th><td rowspan=1>Nov 11 2003 02:21:20 UTC</td><td>version</td><td>1.4.0</td><td>1.4.1</td></tr><tr><th scope=row rowspan=1>Rob Caelers</th><td rowspan=1>Nov 13 2003 01:30:13 UTC</td><td>status</td><td>NEW</td><td>ASSIGNED</td></tr><tr><th scope=row rowspan=1>C Schoen</th><td rowspan=1>Jan 18 2007 16:00:47 UTC</td><td>cc</td><td></td><td>C Schoen</td></tr><tr><th scope=row rowspan=1>Rob Caelers</th><td rowspan=1>Aug 27 2007 14:03:39 UTC</td><td>priority</td><td>P2</td><td>P4</td></tr><tr><th scope=row rowspan=1>Francois Marier</th><td rowspan=1>Oct 4 2007 22:24:54 UTC</td><td>cc</td><td></td><td>Francois Marier</td></tr><tr><th scope=row rowspan=2>Rob Caelers</th><td rowspan=2>Mar 9 2008 23:16:59 UTC</td><td>resolution</td><td></td><td>FIXED</td></tr><tr><td>status</td><td>ASSIGNED</td><td>RESOLVED</td></tr></tbody></table></div></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Description</div><div class=float-left>Hugo Haas&nbsp;&nbsp;Sep 10 2003 12:13:17 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>Workrave&#39;s way of counting time doesn&#39;t see when the machine is suspended and
then resumed:
- the micro break and the rest break counters keep their value: for example, if
the machine is suspended for 1 day, it is not useful to have Workrave ask for
the user for a rest break just 1 minute after the user started working again on
the resumed machine.
- similarly, the daily limit counter only gets reset when the machine happens to
be running at the time indicating; it would be nice if Workrave realized that
last time it did a check was before the reset time, and it now is after the
reset time, and resets it.

Regards,

Hugo</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 1</div><div class=float-left>Rob Caelers&nbsp;&nbsp;Sep 10 2003 13:02:27 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>Are you taking about the menuitem &#34;mode-&gt;suspended&#34; or about suspend to ram/disk
hibernate? Your description suggests the latter. However, you report this bug
for Linux. I haven&#39;t tested hibernate for Linux. 

For windows, a number of hibernate issues have been resolved after 1.4.0. Daily
snapshots are available from http://www.workrave.org/download/snapshots/. You
might want to try of these fix the problem you reported.</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 2</div><div class=float-left>Hugo Haas&nbsp;&nbsp;Nov 11 2003 02:21:20 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>I just did a test with Workrave 1.4.1:
- I used my computer.
- I suspended the computer to disk (with swsusp) for about a day
- I resumed.
After I resumed, Workrave displayed that I was 1:13 away from a rest break, when
I think that it should reset itself and should have told me that I was 25
minutes away (my setting) from it.

In short, it looks that the problem is still there.

Regards,

Hugo </pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 3</div><div class=float-left>Rob Caelers&nbsp;&nbsp;Nov 13 2003 01:30:13 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>Ah, you are using linux with software suspend. At the moment, Workrave only
detects hibernate/suspend on windows. On linux, workrave assumes that the time
the computer was suspended never occurred. In other words, the timer values
after resume are exactly the same are just before the suspend. I will
investigate if it is possible to receive syspend/resume events from swsusp.</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 4</div><div class=float-left>Scott Gaskins&nbsp;&nbsp;Jul 1 2004 17:49:54 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>Actually, Workrave does not seem to detect suspend to ram on Windows XP 
(Start&gt;Shutdown&gt;Standby) on my laptop.
The main problem I have noticed is that if/when I go to Standby and leave 
work, with say 1 hour left on my Daily Limit, then when I get home and several 
hours later open my laptop and start working again, immediately I get the &#34;you 
should quit for the day&#34; pop-up.
I think that the entire time the PC is suspended or hibernated, Workrave 
should stop counting...</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 5</div><div class=float-left>Rob Caelers&nbsp;&nbsp;Mar 9 2008 23:16:59 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>On Linux, Workrave still can&#39;t distinguish between changing the clock and a hibernate (in both cases, some time is missing). Linux has been changed to assume missing time is always hibernate/suspend. Not optimal, but the best I can do. Works for me(tm)

A number of windows hibernate bugs have been fixed in the past (after 2004). I haven&#39;t received any hibernate complaints lately, So, I assume hibernate is stable on Windows. I haven&#39;t seen any glitches myself.  

I&#39;m closing this bug (in case people don&#39;t complain because there is an open bug about hibernate). Please re-open or file a new bug is hibernate is still broken. 
</pre></div></div></div></div><div class="row pb-5"></div></div></div><footer class="container bg-light page-footer"><div class="row my-2"><div class="col-12 col-md text-muted"><img src=/images/workrave-logo.svg alt=Workrave style=width:auto;height:20px>
<small class=d-block>&copy; 2001-2020 Raymond Penners & Rob Caelers</small></div><div class="col-12 col-md text-muted"><small>Unless otherwise stated, all text and images on this website are licensed
under the General Public License version 3 or later.<br>This website is powered by <a href=https://gohugo.io>Hugo</a></small></div></div></footer><script src=https://code.jquery.com/jquery-3.4.1.min.js integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js integrity=sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo crossorigin=anonymous></script>
<script src=https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js integrity=sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6 crossorigin=anonymous></script>
<script type=text/javascript src=https://workrave.org/js/main.min.428d5e8643be5482cc6cf2fb1c80b2e5625f8df018f53d6474a9f4d58668e74c58b35e455ed592b933e43659cc50dc11f452e947f61df3fd7b137161a785b411.js integrity="sha512-Qo1ehkO+VILMbPL7HICy5WJfjfAY9T1kdKn01YZo50xYs15FXtWSuTPkNlnMUNwR9FLpR/Yd8/17E3Fhp4W0EQ=="></script></body></html>