<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=generator content="Hugo 0.109.0"><meta name=robots content="noindex, nofollow"><meta name=description content="Workrave is a program that assists in the recovery and prevention of Repetitive Strain Injury (RSI). The program frequently alerts you to take micro-pauses, rest breaks and restricts you to your daily limit. The program runs on GNU/Linux and Microsoft Windows.
"><link rel="shortcut icon" type=image/x-icon href=/images/favicon.ico><link rel=stylesheet href=https://workrave.org/sass/main.min.ce4ba77d420210f043b2eafed49388defb4f40305be1d398a1ad593d5a932d05.css integrity="sha256-zkunfUICEPBDsur+1JOI3vtPQDBb4dOYoa1ZPVqTLQU=" media=screen><link rel=stylesheet href=https://workrave.org/css/main.min.163e0baf8d5e552480563d39ab81526b5107da66d4ad248880e87497fec53ea8.css integrity="sha256-Fj4Lr41eVSSAVj05q4FSa1EH2mbUrSSIgOh0l/7FPqg=" media=screen><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.7.1/css/all.css integrity=sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr crossorigin=anonymous><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Montserrat:300,400,500&display=swap"><link rel=canonical href=https://workrave.org/bugzilla/384/><title>&#183; Workrave</title></head><body class=bg-light><div class="page-content bg-white"><nav class="navbar fixed-top navbar-expand-lg navbar-light"><div class=container><a class=navbar-brand href=/><img src=/images/workrave-logo.svg alt=Workrave class=page-logo></a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#mainNavBar aria-controls=mainNavBar aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=mainNavBar><ul class="navbar-nav ml-auto"><li class=nav-item><a class="nav-link text-uppercase" href=/about>About</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle text-uppercase" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Get Help</a><div class="dropdown-menu dropdown-menu-right" aria-labelledby=navbarDropdown><a class="dropdown-item text-uppercase" href=/faq/>FAQs</a>
<a class="dropdown-item text-uppercase" href=/docs/>Documentation</a>
<a class="dropdown-item text-uppercase" href=/support/>Support</a></div></li><li class=nav-item><a class="nav-link text-uppercase" href=/contribute>Contribute</a></li><li class=nav-item><a class="nav-link text-uppercase" href=/download/>Downloads</a></li><li class=nav-item><a class="nav-link text-uppercase" href=/blog/>Blog</a></li></ul></div></div></nav><div class="jumbotron jumbotron-fluid banner-style-small"></div><div class="container-lg mt-5 bugzilla" style=max-width:1280px><div class=row><div class="h3 col-md-12 bg-light font-weight-bold">Bug&nbsp;384 - Active all the time</div></div><div class="row py-5"><div class=col-6><div class=row><div class="col-4 text-right font-weight-bold">Status:</div><div class=col-8>RESOLVED FIXED</div></div><div class=row><div class="col-4 text-right font-weight-bold">Component:</div><div class=col-8>Core :: UNIX</div></div><div class=row><div class="col-4 text-right font-weight-bold">Version:</div><div class=col-8>1.6.1</div></div><div class=row><div class="col-4 text-right font-weight-bold">Hardware:</div><div class=col-8>All Linux</div></div><div class=row><div class="col-4 text-right font-weight-bold">Importance:</div><div class=col-8>P2 critical</div></div><div class=row><div class="col-4 text-right font-weight-bold">Target Milestone:</div><div class=col-8>---</div></div><div class=row><div class="col-4 text-right font-weight-bold">Assignee:</div><div class=col-8>Rob Caelers</div></div><div class=row><div class="col-4 text-right font-weight-bold">URL:</div><div class=col-8></div></div><div class=row><div class="col-4 text-right font-weight-bold">Depends on:</div><div class=col-8></div></div><div class=row><div class="col-4 text-right font-weight-bold">Blocks:</div><div class=col-8></div></div></div><div class=col-6><div class=row><div class="col-4 text-right font-weight-bold">Reported:</div><div class=col-8>Apr 29 2004 15:41:38 UTC</div></div><div class=row><div class="col-4 text-right font-weight-bold">by:</div><div class=col-8>Pawel Kolodziej</div></div><div class=row><div class="col-4 text-right font-weight-bold">Modified:</div><div class=col-8>Aug 19 2004 11:39:48 UTC</div></div><div class=row><div class="col-4 text-right font-weight-bold">CC List:</div><div class=col-8>Prakash Advani</div></div><div class=row><div class="col-4 text-right font-weight-bold"></div><div class=col-8>Johannes Rohr</div></div><div class=row><div class="col-4 text-right font-weight-bold"></div><div class=col-8>Jeffrey W. Baker</div></div></div></div><div class="row pb-4"><div class=col-12><div class=card><h5 class="card-header p-1" id=history-header><button class="btn btn-light collapsed w-100 text-left" type=button data-toggle=collapse data-target=#history-content aria-expanded=false aria-controls=history-content>
<i class="fa fa-chevron-down pull-right"></i>&nbsp;history</button></h5><div class="collapse p-0" id=history-content aria-labelledby=history-header><div class="card-body p-0"><table class="table table-dark table-bordered mb-0"><thead><tr><th scope=col>Who</th><th scope=col>When</th><th scope=col>What</th><th scope=col>Removed</th><th scope=col>Added</th></tr></thead><tbody><tr><th scope=row rowspan=1>Johannes Rohr</th><td rowspan=1>Jun 23 2004 13:25:29 UTC</td><td>cc</td><td></td><td>j.**@co**.org</td></tr><tr><th scope=row rowspan=4>Rob Caelers</th><td rowspan=4>Jun 24 2004 05:16:36 UTC</td><td>severity</td><td>normal</td><td>critical</td></tr><tr><td>status</td><td>NEW</td><td>ASSIGNED</td></tr><tr><td>platform</td><td>PC</td><td>All</td></tr><tr><td>version</td><td>cvs</td><td>1.6.1</td></tr><tr><th scope=row rowspan=2>Rob Caelers</th><td rowspan=2>Jul 1 2004 12:09:34 UTC</td><td>status</td><td>ASSIGNED</td><td>RESOLVED</td></tr><tr><td>resolution</td><td></td><td>FIXED</td></tr><tr><th scope=row rowspan=1>Rob Caelers</th><td rowspan=1>Aug 19 2004 11:39:42 UTC</td><td>cc</td><td></td><td>Prakash Advani</td></tr><tr><th scope=row rowspan=1>Jeffrey W. Baker</th><td rowspan=1>Aug 19 2004 11:39:48 UTC</td><td>cc</td><td></td><td>Jeffrey W. Baker</td></tr></tbody></table></div></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Description</div><div class=float-left>Pawel Kolodziej&nbsp;&nbsp;Apr 29 2004 15:41:38 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>Workrave 1.6.0 (todays nightbuild) thinks that I&#39;m active all the time.
After some investigation i noticed that it recognize that button was 
pressed but does not that it was released. 
In file X11InputMonitor.cc in main loop I&#39;ve added small printf and when I
press button event 4 (ButtonPressed) is generated. But when I release
button no event is generated. I changed mask in XGrabButton call from
ButtonPressMask to ButtonPressMask| ButtonReleaseMask but this has not
hellped. I have XFree86-4.4.0</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 1</div><div class=float-left>Pawel Kolodziej&nbsp;&nbsp;Apr 29 2004 15:43:26 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>And when i run &#39;xev&#39; I see that both ButtonPressed and ButtonReleased events are
generated</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 2</div><div class=float-left>Rob Caelers&nbsp;&nbsp;May 13 2004 10:12:11 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>Please check if the record extension is enabled in /etc/X11/XF86Config-4:

Section &#34;Module&#34;
        Load    &#34;record&#34;
EndSection

Workrave does not monitor the release event. Each keypress is an activity. As
longs as you keep pressing keys (or keep moving your mouse), workrave assume you
are active. activity does not end by releasing the mouse button.

Are you running some video player that artificially create keyboard button
events to &#34;disable&#34; the screensaver? I have seen such a player (forgot which one)</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 3</div><div class=float-left>Pawel Kolodziej&nbsp;&nbsp;May 15 2004 16:29:59 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>I was talking about BUTTON (mouse button) not key from keyboard. I had no &#34;load
record&#34; but i&#39;ve added it and workrave still does no work correctly.</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 4</div><div class=float-left>Johannes Rohr&nbsp;&nbsp;Jun 23 2004 13:25:43 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>*** Bug 403 has been marked as a duplicate of this bug. ***</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 5</div><div class=float-left>Andrew J. Montalenti&nbsp;&nbsp;Jun 23 2004 20:42:44 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>Hey there,

I posted a report to Debian BTS about this which got forwarded here (actually,
to the dupe mentioned above).  As a workaround I downgraded from the package in
sid (1.6.1-2) to the package in sarge (1.4.1-1).  This older package does not
suffer from the bug described here.

Not sure if this has to do with Gnome 2.6 (which only recently was put in sid)
or what, but I&#39;d be glad to provide any information necessary to squash it.

-Andrew</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 6</div><div class=float-left>Rob Caelers&nbsp;&nbsp;Jun 24 2004 05:16:37 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>I&#39;ve never seen this bug myself, so I&#39;m really puzzled.

A few questions.
- Do all breaks ignore activity?
- Is &#39;suspend when inactive&#39; enabled for all breaks?
- Is networking enabled? (Does the debian package have networking support?)
- Does workrave show a break window after removing the warning window.
- What happens when a break window appears? Does the break count-down or does
the time remain the same all the time ?
- After starting workrave, do the timers start immediately, or do they start
when you first become active?
- Do the timers keep running indefinately

Could you mail me (or attach to bugzilla) the output of:

gconftool-2 --dump /apps/workrave

(You may want to remove your networking password from the output)

and the content of ~/.workrave

(I&#39;m interested in &#39;state&#39; and &#39;idlelog*&#39; files. These files contain information
on your computer usage. You may not want to make them public by attachting them
to bugzilla)

This might help debugging a lot. Thanks.
</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 7</div><div class=float-left>Rob Caelers&nbsp;&nbsp;Jul 1 2004 12:09:34 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>I hope this bug is now fixed.... Pawel&#39;s analysis was very accurate.
Unfortunately, I didn&#39;t understand it at first....

I thought workrave didn&#39;t need the &#39;button released&#39; event. Only button presses
are counted as activity. However, the fix for bug #335 requires button release
events....Xrecord should deliver these events [so here is an inconsistency with
Pawel&#39;s comment that enabling xrecord didn&#39;t help]. However, when xrecord is not
available or fails, workrave falls back to a dirty hack to monitor keyboard and
mouse. This hack uses the grabbutton (which only grab presses) which does not
detect mouse release events.....

It is very likely that this hack will be removed in a future version of workrave
(&gt;= 1.7)

Everone, please download a nightly build of Jul 2nd or later
(http://workrave.org/download/snapshots/20040702/) and confirm that this bug has
been fixed.</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 8</div><div class=float-left>Rob Caelers&nbsp;&nbsp;Aug 19 2004 11:39:48 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>*** Bug 421 has been marked as a duplicate of this bug. ***</pre></div></div></div></div><div class="row pb-5"></div></div></div><footer class="container bg-light page-footer"><div class="row my-2"><div class="col-12 col-md text-muted"><img src=/images/workrave-logo.svg alt=Workrave style=width:auto;height:20px>
<small class=d-block>&copy; 2001-2020 Raymond Penners & Rob Caelers</small></div><div class="col-12 col-md text-muted"><small>Unless otherwise stated, all text and images on this website are licensed
under the General Public License version 3 or later.<br>This website is powered by <a href=https://gohugo.io>Hugo</a></small></div></div></footer><script src=https://code.jquery.com/jquery-3.4.1.min.js integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js integrity=sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo crossorigin=anonymous></script>
<script src=https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js integrity=sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6 crossorigin=anonymous></script>
<script type=text/javascript src=https://workrave.org/js/main.min.428d5e8643be5482cc6cf2fb1c80b2e5625f8df018f53d6474a9f4d58668e74c58b35e455ed592b933e43659cc50dc11f452e947f61df3fd7b137161a785b411.js integrity="sha512-Qo1ehkO+VILMbPL7HICy5WJfjfAY9T1kdKn01YZo50xYs15FXtWSuTPkNlnMUNwR9FLpR/Yd8/17E3Fhp4W0EQ=="></script></body></html>