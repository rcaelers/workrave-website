<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=generator content="Hugo 0.109.0"><meta name=robots content="noindex, nofollow"><meta name=description content="Workrave is a program that assists in the recovery and prevention of Repetitive Strain Injury (RSI). The program frequently alerts you to take micro-pauses, rest breaks and restricts you to your daily limit. The program runs on GNU/Linux and Microsoft Windows.
"><link rel="shortcut icon" type=image/x-icon href=/images/favicon.ico><link rel=stylesheet href=https://workrave.org/sass/main.min.ce4ba77d420210f043b2eafed49388defb4f40305be1d398a1ad593d5a932d05.css integrity="sha256-zkunfUICEPBDsur+1JOI3vtPQDBb4dOYoa1ZPVqTLQU=" media=screen><link rel=stylesheet href=https://workrave.org/css/main.min.163e0baf8d5e552480563d39ab81526b5107da66d4ad248880e87497fec53ea8.css integrity="sha256-Fj4Lr41eVSSAVj05q4FSa1EH2mbUrSSIgOh0l/7FPqg=" media=screen><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.7.1/css/all.css integrity=sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr crossorigin=anonymous><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Montserrat:300,400,500&display=swap"><link rel=canonical href=https://workrave.org/bugzilla/332/><title>&#183; Workrave</title></head><body class=bg-light><div class="page-content bg-white"><nav class="navbar fixed-top navbar-expand-lg navbar-light"><div class=container><a class=navbar-brand href=/><img src=/images/workrave-logo.svg alt=Workrave class=page-logo></a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#mainNavBar aria-controls=mainNavBar aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=mainNavBar><ul class="navbar-nav ml-auto"><li class=nav-item><a class="nav-link text-uppercase" href=/about>About</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle text-uppercase" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Get Help</a><div class="dropdown-menu dropdown-menu-right" aria-labelledby=navbarDropdown><a class="dropdown-item text-uppercase" href=/faq/>FAQs</a>
<a class="dropdown-item text-uppercase" href=/docs/>Documentation</a>
<a class="dropdown-item text-uppercase" href=/support/>Support</a></div></li><li class=nav-item><a class="nav-link text-uppercase" href=/contribute>Contribute</a></li><li class=nav-item><a class="nav-link text-uppercase" href=/download/>Downloads</a></li><li class=nav-item><a class="nav-link text-uppercase" href=/blog/>Blog</a></li></ul></div></div></nav><div class="jumbotron jumbotron-fluid banner-style-small"></div><div class="container-lg mt-5 bugzilla" style=max-width:1280px><div class=row><div class="h3 col-md-12 bg-light font-weight-bold">Bug&nbsp;332 - Problems with Workrave in combination with ZoneLabs Firewall</div></div><div class="row py-5"><div class=col-6><div class=row><div class="col-4 text-right font-weight-bold">Status:</div><div class=col-8>VERIFIED FIXED</div></div><div class=row><div class="col-4 text-right font-weight-bold">Component:</div><div class=col-8>Core</div></div><div class=row><div class="col-4 text-right font-weight-bold">Version:</div><div class=col-8>1.4.1</div></div><div class=row><div class="col-4 text-right font-weight-bold">Hardware:</div><div class=col-8>PC Windows 2000</div></div><div class=row><div class="col-4 text-right font-weight-bold">Importance:</div><div class=col-8>P5 minor</div></div><div class=row><div class="col-4 text-right font-weight-bold">Target Milestone:</div><div class=col-8>---</div></div><div class=row><div class="col-4 text-right font-weight-bold">Assignee:</div><div class=col-8>Raymond Penners</div></div><div class=row><div class="col-4 text-right font-weight-bold">URL:</div><div class=col-8></div></div><div class=row><div class="col-4 text-right font-weight-bold">Depends on:</div><div class=col-8></div></div><div class=row><div class="col-4 text-right font-weight-bold">Blocks:</div><div class=col-8><a href=https://workrave.org/bugzilla/352 style=text-decoration:line-through>352</a></div></div></div><div class=col-6><div class=row><div class="col-4 text-right font-weight-bold">Reported:</div><div class=col-8>Nov 7 2003 04:14:05 UTC</div></div><div class=row><div class="col-4 text-right font-weight-bold">by:</div><div class=col-8>Dino Karl</div></div><div class=row><div class="col-4 text-right font-weight-bold">Modified:</div><div class=col-8>Mar 12 2004 05:44:11 UTC</div></div><div class=row><div class="col-4 text-right font-weight-bold">CC List:</div><div class=col-8>grubfats</div></div></div></div><div class="row pb-4"><div class=col-12><div class=card><h5 class="card-header p-1" id=history-header><button class="btn btn-light collapsed w-100 text-left" type=button data-toggle=collapse data-target=#history-content aria-expanded=false aria-controls=history-content>
<i class="fa fa-chevron-down pull-right"></i>&nbsp;history</button></h5><div class="collapse p-0" id=history-content aria-labelledby=history-header><div class="card-body p-0"><table class="table table-dark table-bordered mb-0"><thead><tr><th scope=col>Who</th><th scope=col>When</th><th scope=col>What</th><th scope=col>Removed</th><th scope=col>Added</th></tr></thead><tbody><tr><th scope=row rowspan=1>Raymond Penners</th><td rowspan=1>Nov 7 2003 05:23:36 UTC</td><td>version</td><td>1.4.0</td><td>1.4.1</td></tr><tr><th scope=row rowspan=1>Raymond Penners</th><td rowspan=1>Mar 8 2004 02:27:18 UTC</td><td>cc</td><td></td><td>grubfats</td></tr><tr><th scope=row rowspan=2>Raymond Penners</th><td rowspan=2>Mar 10 2004 00:50:45 UTC</td><td>status</td><td>NEW</td><td>RESOLVED</td></tr><tr><td>resolution</td><td></td><td>WORKSFORME</td></tr><tr><th scope=row rowspan=2>Kees-Jan Dijkzeul</th><td rowspan=2>Mar 10 2004 04:16:35 UTC</td><td>status</td><td>RESOLVED</td><td>REOPENED</td></tr><tr><td>resolution</td><td>WORKSFORME</td><td></td></tr><tr><th scope=row rowspan=5>Raymond Penners</th><td rowspan=5>Mar 10 2004 05:37:42 UTC</td><td>blocks</td><td></td><td>352</td></tr><tr><td>assigned_to</td><td>Rob Caelers</td><td>Raymond Penners</td></tr><tr><td>severity</td><td>critical</td><td>minor</td></tr><tr><td>status</td><td>REOPENED</td><td>NEW</td></tr><tr><td>priority</td><td>P2</td><td>P5</td></tr><tr><th scope=row rowspan=2>Raymond Penners</th><td rowspan=2>Mar 11 2004 12:12:52 UTC</td><td>status</td><td>NEW</td><td>RESOLVED</td></tr><tr><td>resolution</td><td></td><td>FIXED</td></tr><tr><th scope=row rowspan=1>Kees-Jan Dijkzeul</th><td rowspan=1>Mar 12 2004 05:44:11 UTC</td><td>status</td><td>RESOLVED</td><td>VERIFIED</td></tr></tbody></table></div></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Description</div><div class=float-left>Dino Karl&nbsp;&nbsp;Nov 7 2003 04:14:05 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>If ZoneLabs Firewall software is running and then Workrave 1.4.1 is being 
started, the computer with Windows XP Professional (all SP installed) is going 
to freeze. Only way is to reboot the machine.
Used Software:

- ZoneLab ZoneAlarm Pro Version 4.0.146.029
- Workrave 1.4.1</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 1</div><div class=float-left>Raymond Penners&nbsp;&nbsp;Nov 7 2003 05:23:36 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>I am wondering, are you using the networking functionality of Workrave, or is it
disabled?
</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 2</div><div class=float-left>Dino Karl&nbsp;&nbsp;Nov 7 2003 05:31:33 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>No Networking functionality is disabled. But ZoneAlarm is showing that 
workrave.exe wants to access the Internet. Then everything freezes on my 
system. Normally this is not happening. It could also be a Zonealarm bug.</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 3</div><div class=float-left>Raymond Penners&nbsp;&nbsp;Nov 7 2003 06:47:40 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>If Workrave tries to access the internet without networking enabled, then that
in itself is a bug in Workrave. The freeze is another bug, but possibly one of
ZoneAlarm. 

Can you pinpoint the address/port that Workrave tries to access using ZoneAlarm?
</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 4</div><div class=float-left>Kerrin Pine&nbsp;&nbsp;Nov 26 2003 15:29:05 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>I get it too. Only since 1.4.1, networking is disabled. I&#39;m using ZA 
4.5.530.000 on XP Professional. My firewall shows it making DNS queries - will 
update this with the exact details next time it happens.

</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 5</div><div class=float-left>Kerrin Pine&nbsp;&nbsp;Nov 26 2003 15:39:10 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>Confirmed, it tries to make a DNS query (to my DNS server, rport 53). ZoneAlarm 
pops up a warning window asking to confirm/deny the program&#39;s access and the 
computer becomes unresponsive - can&#39;t even kill processes.
</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 6</div><div class=float-left>Kees-Jan Dijkzeul&nbsp;&nbsp;Dec 14 2003 14:22:56 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>I can 100% reproduce this problem. It is really very annoying, since all you can
do is hit the hard-reset switch.

Indeed, ZoneLabs accuses workrave of doing DNS queries even though networking is
turned off.

If an unknow program is accessing the network (wr in this case) zonelabs
responds by completely freezing the program and popping up a dialog asking the
user what to do.

However, workrave is monitoring user activity. This means that if user
keypresses or mouse activity reach workrave by any synchronous ipc-like
mechanism, it will not respond (because it is frozen by zonelabs), and hence the
user activity transmission will never terminate. That may explain the lockup.

So I would guess that the bug is in the interaction between zonelabs and wr, not
just in zonelabs.

Anyway, there is a workaround. In the zonelabs window, click program control.
Then, in the &#34;main&#34; tab, set program control to &#34;Low - learning mode&#34;. In this
mode, zonelabs will observe programs accessing the internet, assuming it is
allowed without blocking them. Now start workrave. After workrave has
successfully started (it does :-), you can set program control back to &#34;Medium&#34;.
There will be no more lockups.</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 7</div><div class=float-left>Raymond Penners&nbsp;&nbsp;Mar 8 2004 02:27:19 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>*** Bug 343 has been marked as a duplicate of this bug. ***</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 8</div><div class=float-left>Raymond Penners&nbsp;&nbsp;Mar 10 2004 00:50:45 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>Current development builds should not longer trigger network activity when
networking is disabled. This should make the Zonelabs problem go away for most
of ours users. As for the small group of users that rely on Workrave&#39;s
networking features: they will have to allow Workrave to access the internet
anyway, so there is no strict need to work around the weird way of Zonelabs
internals.
</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 9</div><div class=float-left>Kees-Jan Dijkzeul&nbsp;&nbsp;Mar 10 2004 04:16:35 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>You&#39;re getting a bit judgemental here. Workrave has at least equally weird
internals, insisting on processing user events not strictly intended for it in a
synchronous way, thus blocking any application until wr finishes. But that&#39;s
beside the point :-)

The problem is that ZoneLabs has no alternative course of action. It&#39;s
requirements simply state that if an unknown program wants to access the
network, the user should be asked what to do. In the mean time, the program
should be frozen.

On the other hand, there is no requirement for wr to synchronously process all
user events. That&#39;s a design decision (based on some windows-related problems,
if I recall correcly). So, on a very theoretical and fundamental level, Workrave
is more wrong than ZoneLabs.

Getting a bit more practical: Simply allowing wr to access the network is not
working. Any time you do an upgrade (which is quite a lot), ZoneLabs detects
that the wr binary has changed, and asks for a confirmation that wr is indeed
allowed to access the network. Hence locking up the entire system all over
again. Considering that both wr and zonelabs are automatically started by
windows, this is very undesirable.

Getting still more practical, I understand that this is probably a low-priority
issue, since all wr developers are behind a nat-firewall and don&#39;t need zonelabs
on their local machines. (then again, I like ZoneLabs for spotting outgoing
traffic that isn&#39;t supposed to be there. Catch spyware and stuff...) So I would
vote for leaving this bug open indefinetly, or maybe move it to &#34;wontfix&#34;. But
&#34;worksforsome&#34; is simply incorrect. This test (if you can call it that) will
fail miserably for anyone who bothers to check. :-)</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 10</div><div class=float-left>Raymond Penners&nbsp;&nbsp;Mar 10 2004 05:37:42 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>I will see what I can do. Decreasing severity, since it now affects only the
small fraction of users that use Workrave&#39;s networking features together with
ZoneLabs.
</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 11</div><div class=float-left>Raymond Penners&nbsp;&nbsp;Mar 11 2004 12:12:52 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>Rewrote harpoon internals in the hope that this bug is a goner...
Please confirm.
</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 12</div><div class=float-left>Kees-Jan Dijkzeul&nbsp;&nbsp;Mar 12 2004 05:44:11 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>Hurray!
Problem doesn&#39;t occur in the daily build of march 12th!</pre></div></div></div></div><div class="row pb-5"></div></div></div><footer class="container bg-light page-footer"><div class="row my-2"><div class="col-12 col-md text-muted"><img src=/images/workrave-logo.svg alt=Workrave style=width:auto;height:20px>
<small class=d-block>&copy; 2001-2020 Raymond Penners & Rob Caelers</small></div><div class="col-12 col-md text-muted"><small>Unless otherwise stated, all text and images on this website are licensed
under the General Public License version 3 or later.<br>This website is powered by <a href=https://gohugo.io>Hugo</a></small></div></div></footer><script src=https://code.jquery.com/jquery-3.4.1.min.js integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js integrity=sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo crossorigin=anonymous></script>
<script src=https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js integrity=sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6 crossorigin=anonymous></script>
<script type=text/javascript src=https://workrave.org/js/main.min.428d5e8643be5482cc6cf2fb1c80b2e5625f8df018f53d6474a9f4d58668e74c58b35e455ed592b933e43659cc50dc11f452e947f61df3fd7b137161a785b411.js integrity="sha512-Qo1ehkO+VILMbPL7HICy5WJfjfAY9T1kdKn01YZo50xYs15FXtWSuTPkNlnMUNwR9FLpR/Yd8/17E3Fhp4W0EQ=="></script></body></html>