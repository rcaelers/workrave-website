<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=generator content="Hugo 0.109.0"><meta name=robots content="noindex, nofollow"><meta name=description content="Workrave is a program that assists in the recovery and prevention of Repetitive Strain Injury (RSI). The program frequently alerts you to take micro-pauses, rest breaks and restricts you to your daily limit. The program runs on GNU/Linux and Microsoft Windows.
"><link rel="shortcut icon" type=image/x-icon href=/images/favicon.ico><link rel=stylesheet href=https://workrave.org/sass/main.min.ce4ba77d420210f043b2eafed49388defb4f40305be1d398a1ad593d5a932d05.css integrity="sha256-zkunfUICEPBDsur+1JOI3vtPQDBb4dOYoa1ZPVqTLQU=" media=screen><link rel=stylesheet href=https://workrave.org/css/main.min.163e0baf8d5e552480563d39ab81526b5107da66d4ad248880e87497fec53ea8.css integrity="sha256-Fj4Lr41eVSSAVj05q4FSa1EH2mbUrSSIgOh0l/7FPqg=" media=screen><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.7.1/css/all.css integrity=sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr crossorigin=anonymous><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Montserrat:300,400,500&display=swap"><link rel=canonical href=https://workrave.org/bugzilla/344/><title>&#183; Workrave</title></head><body class=bg-light><div class="page-content bg-white"><nav class="navbar fixed-top navbar-expand-lg navbar-light"><div class=container><a class=navbar-brand href=/><img src=/images/workrave-logo.svg alt=Workrave class=page-logo></a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#mainNavBar aria-controls=mainNavBar aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=mainNavBar><ul class="navbar-nav ml-auto"><li class=nav-item><a class="nav-link text-uppercase" href=/about>About</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle text-uppercase" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Get Help</a><div class="dropdown-menu dropdown-menu-right" aria-labelledby=navbarDropdown><a class="dropdown-item text-uppercase" href=/faq/>FAQs</a>
<a class="dropdown-item text-uppercase" href=/docs/>Documentation</a>
<a class="dropdown-item text-uppercase" href=/support/>Support</a></div></li><li class=nav-item><a class="nav-link text-uppercase" href=/contribute>Contribute</a></li><li class=nav-item><a class="nav-link text-uppercase" href=/download/>Downloads</a></li><li class=nav-item><a class="nav-link text-uppercase" href=/blog/>Blog</a></li></ul></div></div></nav><div class="jumbotron jumbotron-fluid banner-style-small"></div><div class="container-lg mt-5 bugzilla" style=max-width:1280px><div class=row><div class="h3 col-md-12 bg-light font-weight-bold">Bug&nbsp;344 - Screen Blanking and Locking</div></div><div class="row py-5"><div class=col-6><div class=row><div class="col-4 text-right font-weight-bold">Status:</div><div class=col-8>RESOLVED FIXED</div></div><div class=row><div class="col-4 text-right font-weight-bold">Component:</div><div class=col-8>GUI</div></div><div class=row><div class="col-4 text-right font-weight-bold">Version:</div><div class=col-8>1.4.1</div></div><div class=row><div class="col-4 text-right font-weight-bold">Hardware:</div><div class=col-8>PC Linux</div></div><div class=row><div class="col-4 text-right font-weight-bold">Importance:</div><div class=col-8>P2 enhancement</div></div><div class=row><div class="col-4 text-right font-weight-bold">Target Milestone:</div><div class=col-8>---</div></div><div class=row><div class="col-4 text-right font-weight-bold">Assignee:</div><div class=col-8>Raymond Penners</div></div><div class=row><div class="col-4 text-right font-weight-bold">URL:</div><div class=col-8></div></div><div class=row><div class="col-4 text-right font-weight-bold">Depends on:</div><div class=col-8></div></div><div class=row><div class="col-4 text-right font-weight-bold">Blocks:</div><div class=col-8><a href=https://workrave.org/bugzilla/352 style=text-decoration:line-through>352</a></div></div></div><div class=col-6><div class=row><div class="col-4 text-right font-weight-bold">Reported:</div><div class=col-8>Jan 16 2004 06:04:57 UTC</div></div><div class=row><div class="col-4 text-right font-weight-bold">by:</div><div class=col-8>David Zoll</div></div><div class=row><div class="col-4 text-right font-weight-bold">Modified:</div><div class=col-8>Mar 24 2004 14:06:57 UTC</div></div></div></div><div class="row pb-4"><div class=col-12><div class=card><h5 class="card-header p-1" id=history-header><button class="btn btn-light collapsed w-100 text-left" type=button data-toggle=collapse data-target=#history-content aria-expanded=false aria-controls=history-content>
<i class="fa fa-chevron-down pull-right"></i>&nbsp;history</button></h5><div class="collapse p-0" id=history-content aria-labelledby=history-header><div class="card-body p-0"><table class="table table-dark table-bordered mb-0"><thead><tr><th scope=col>Who</th><th scope=col>When</th><th scope=col>What</th><th scope=col>Removed</th><th scope=col>Added</th></tr></thead><tbody><tr><th scope=row rowspan=2>Raymond Penners</th><td rowspan=2>Mar 10 2004 03:00:34 UTC</td><td>assigned_to</td><td>Rob Caelers</td><td>Raymond Penners</td></tr><tr><td>blocks</td><td></td><td>352</td></tr><tr><th scope=row rowspan=2>Raymond Penners</th><td rowspan=2>Mar 24 2004 14:06:57 UTC</td><td>status</td><td>NEW</td><td>RESOLVED</td></tr><tr><td>resolution</td><td></td><td>FIXED</td></tr></tbody></table></div></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Description</div><div class=float-left>David Zoll&nbsp;&nbsp;Jan 16 2004 06:04:58 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>I&#39;m not permitted to leave my desk with work information displayed.  Likewise,
I&#39;m not permitted to leave my desk without pasword locking my workstation. 
During rest breaks, I obviously want to be able to leave my desk.  I know I&#39;m
not the only office with such policies.

Would it be possible to add a feature to blank the desktop during rest breaks? 
During micropauses it might be handy too, to take away the temptation to keep
reading the screen.

Would it be possible to add a feature to password lock the display during rest
breaks?  On Linux, you could just probably just tie into the PAM system like
xlock does; I&#39;m not sure how to implement it on Windows.</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 1</div><div class=float-left>Raymond Penners&nbsp;&nbsp;Feb 6 2004 04:30:07 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>If your system has &#34;xlock&#34; installed, then a &#34;Lock&#34; button is displayed on the
rest break window. Does this feature suffice your needs?
</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 2</div><div class=float-left>David Zoll&nbsp;&nbsp;Feb 6 2004 06:40:33 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>I hadn&#39;t had xlock installed, so I didn&#39;t see the button.  Xlock would certainly
suit my needs.

I installed xlock (technically the xlockmore 5.09 Debian package), and the
button appeared fine, but it didn&#39;t seem to work properly from workrave.  I
would hit the button, the screen would blank for a second, and then unblank.  It
also gave a &#34;xlock, could not grab keyboard! (1)&#34; error on stderr.  

xlock worked fine from the command line.

Doing a little looking into that error indicates that it means that something
else has run XGrabKeyboard, so xlock can&#39;t.  That something might be
xscreensaver in my case.

Maybe, rather than hardcoding the lock button to xlock, it could be
configurable.  The default might be xlock, but I would be able to use
&#34;xscreensaver-command -lock&#34;, someone else could use foo-lock, and another
person might just fiddle with their xlock command line switches.</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 3</div><div class=float-left>Rob Caelers&nbsp;&nbsp;Mar 8 2004 13:21:08 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>Workrave runs XGrabKeyboard to block the keyboard. Somewhere after 1.4.1 I fixed
this bug by releasing the grab when xlock is started. You could try a nightly
build. I&#39;m leaving this bug open because I think its a good idea to have this
lock program configurable...</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 4</div><div class=float-left>Raymond Penners&nbsp;&nbsp;Mar 9 2004 10:02:17 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>If there isn&#39;t a decent API call to lock the screen in an xlock/xscreensaver
independent fashion, perhaps it would be best to try and detect a the desktop
environment (Gnome/KDE) and launch the proper command based on that data.</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 5</div><div class=float-left>Raymond Penners&nbsp;&nbsp;Mar 24 2004 14:06:57 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>KDE is now detected and its screen lock command is executed in that case. If KDE
is not running Workrave uses the xscreensaver-command (used by GNOME, amongst
others), if available, or fallbacks to xlock. In all these cases, the proper
display (e.g. &#34;nonlocalhost:0&#34;) now used as well, which is also something that
went wrong with 1.4.1. 
</pre></div></div></div></div><div class="row pb-5"></div></div></div><footer class="container bg-light page-footer"><div class="row my-2"><div class="col-12 col-md text-muted"><img src=/images/workrave-logo.svg alt=Workrave style=width:auto;height:20px>
<small class=d-block>&copy; 2001-2020 Raymond Penners & Rob Caelers</small></div><div class="col-12 col-md text-muted"><small>Unless otherwise stated, all text and images on this website are licensed
under the General Public License version 3 or later.<br>This website is powered by <a href=https://gohugo.io>Hugo</a></small></div></div></footer><script src=https://code.jquery.com/jquery-3.4.1.min.js integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js integrity=sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo crossorigin=anonymous></script>
<script src=https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js integrity=sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6 crossorigin=anonymous></script>
<script type=text/javascript src=https://workrave.org/js/main.min.428d5e8643be5482cc6cf2fb1c80b2e5625f8df018f53d6474a9f4d58668e74c58b35e455ed592b933e43659cc50dc11f452e947f61df3fd7b137161a785b411.js integrity="sha512-Qo1ehkO+VILMbPL7HICy5WJfjfAY9T1kdKn01YZo50xYs15FXtWSuTPkNlnMUNwR9FLpR/Yd8/17E3Fhp4W0EQ=="></script></body></html>