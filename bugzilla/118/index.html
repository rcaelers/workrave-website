<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=generator content="Hugo 0.109.0"><meta name=robots content="noindex, nofollow"><meta name=description content="Workrave is a program that assists in the recovery and prevention of Repetitive Strain Injury (RSI). The program frequently alerts you to take micro-pauses, rest breaks and restricts you to your daily limit. The program runs on GNU/Linux and Microsoft Windows.
"><link rel="shortcut icon" type=image/x-icon href=/images/favicon.ico><link rel=stylesheet href=https://workrave.org/sass/main.min.ce4ba77d420210f043b2eafed49388defb4f40305be1d398a1ad593d5a932d05.css integrity="sha256-zkunfUICEPBDsur+1JOI3vtPQDBb4dOYoa1ZPVqTLQU=" media=screen><link rel=stylesheet href=https://workrave.org/css/main.min.163e0baf8d5e552480563d39ab81526b5107da66d4ad248880e87497fec53ea8.css integrity="sha256-Fj4Lr41eVSSAVj05q4FSa1EH2mbUrSSIgOh0l/7FPqg=" media=screen><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.7.1/css/all.css integrity=sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr crossorigin=anonymous><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Montserrat:300,400,500&display=swap"><link rel=canonical href=https://workrave.org/bugzilla/118/><title>&#183; Workrave</title></head><body class=bg-light><div class="page-content bg-white"><nav class="navbar fixed-top navbar-expand-lg navbar-light"><div class=container><a class=navbar-brand href=/><img src=/images/workrave-logo.svg alt=Workrave class=page-logo></a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#mainNavBar aria-controls=mainNavBar aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=mainNavBar><ul class="navbar-nav ml-auto"><li class=nav-item><a class="nav-link text-uppercase" href=/about>About</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle text-uppercase" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Get Help</a><div class="dropdown-menu dropdown-menu-right" aria-labelledby=navbarDropdown><a class="dropdown-item text-uppercase" href=/faq/>FAQs</a>
<a class="dropdown-item text-uppercase" href=/docs/>Documentation</a>
<a class="dropdown-item text-uppercase" href=/support/>Support</a></div></li><li class=nav-item><a class="nav-link text-uppercase" href=/contribute>Contribute</a></li><li class=nav-item><a class="nav-link text-uppercase" href=/download/>Downloads</a></li><li class=nav-item><a class="nav-link text-uppercase" href=/blog/>Blog</a></li></ul></div></div></nav><div class="jumbotron jumbotron-fluid banner-style-small"></div><div class="container-lg mt-5 bugzilla" style=max-width:1280px><div class=row><div class="h3 col-md-12 bg-light font-weight-bold">Bug&nbsp;118 - crashes on start</div></div><div class="row py-5"><div class=col-6><div class=row><div class="col-4 text-right font-weight-bold">Status:</div><div class=col-8>RESOLVED FIXED</div></div><div class=row><div class="col-4 text-right font-weight-bold">Component:</div><div class=col-8>Core :: Win32</div></div><div class=row><div class="col-4 text-right font-weight-bold">Version:</div><div class=col-8>0.3.0</div></div><div class=row><div class="col-4 text-right font-weight-bold">Hardware:</div><div class=col-8>PC Windows 2000</div></div><div class=row><div class="col-4 text-right font-weight-bold">Importance:</div><div class=col-8>P3 critical</div></div><div class=row><div class="col-4 text-right font-weight-bold">Target Milestone:</div><div class=col-8>---</div></div><div class=row><div class="col-4 text-right font-weight-bold">Assignee:</div><div class=col-8>Raymond Penners</div></div><div class=row><div class="col-4 text-right font-weight-bold">URL:</div><div class=col-8></div></div><div class=row><div class="col-4 text-right font-weight-bold">Depends on:</div><div class=col-8></div></div><div class=row><div class="col-4 text-right font-weight-bold">Blocks:</div><div class=col-8></div></div></div><div class=col-6><div class=row><div class="col-4 text-right font-weight-bold">Reported:</div><div class=col-8>Sep 30 2002 18:06:36 UTC</div></div><div class=row><div class="col-4 text-right font-weight-bold">by:</div><div class=col-8>Matt Kraai</div></div><div class=row><div class="col-4 text-right font-weight-bold">Modified:</div><div class=col-8>Oct 22 2002 01:56:53 UTC</div></div></div></div><div class="row pb-4"><div class=col-12><div class=card><h5 class="card-header p-1" id=attachments-header><button class="btn btn-light collapsed w-100 text-left" type=button data-toggle=collapse data-target=#attachments-content aria-expanded=false aria-controls=attachments-content>
<i class="fa fa-chevron-down pull-right"></i>&nbsp;Attachments</button></h5><div class=collapse id=attachments-content aria-labelledby=attachments-header><div class="card-body p-0"><table class="table table-dark table-bordered mb-0"><thead><tr><th scope=col>Id</th><th scope=col>Who</th><th scope=col>When</th><th scope=col>Size</th><th scope=col>Type</th></tr></thead><tbody><tr><th scope=row rowspan=2>9</th><td colspan=4><a href=https://workrave.org/bugzilla/attachments/attachment-9.txt>crash log</a><tr><td>Matt Kraai</td><td>Sep 30 2002 18:08:41 UTC</td><td>32416</td><td>text/plain</td></tr><tr><th scope=row rowspan=2>10</th><td colspan=4><a href=https://workrave.org/bugzilla/attachments/attachment-10.txt>Here is the output of the debugging executable. It continues printing mouse_hook lines until I dismiss the dialog.</a><tr><td>Matt Kraai</td><td>Oct 7 2002 14:21:52 UTC</td><td>6427</td><td>text/plain</td></tr></tbody></table></div></div></div></div></div><div class="row pb-4"><div class=col-12><div class=card><h5 class="card-header p-1" id=history-header><button class="btn btn-light collapsed w-100 text-left" type=button data-toggle=collapse data-target=#history-content aria-expanded=false aria-controls=history-content>
<i class="fa fa-chevron-down pull-right"></i>&nbsp;history</button></h5><div class="collapse p-0" id=history-content aria-labelledby=history-header><div class="card-body p-0"><table class="table table-dark table-bordered mb-0"><thead><tr><th scope=col>Who</th><th scope=col>When</th><th scope=col>What</th><th scope=col>Removed</th><th scope=col>Added</th></tr></thead><tbody><tr><th scope=row rowspan=1>Raymond Penners</th><td rowspan=1>Oct 3 2002 08:23:00 UTC</td><td>version</td><td>unspecified</td><td>0.2.0</td></tr><tr><th scope=row rowspan=1>Matt Kraai</th><td rowspan=1>Oct 14 2002 16:25:53 UTC</td><td>version</td><td>0.2.0</td><td>0.3.0</td></tr><tr><th scope=row rowspan=1>Raymond Penners</th><td rowspan=1>Oct 17 2002 08:40:17 UTC</td><td>status</td><td>NEW</td><td>ASSIGNED</td></tr><tr><th scope=row rowspan=2>Raymond Penners</th><td rowspan=2>Oct 17 2002 11:14:28 UTC</td><td>status</td><td>ASSIGNED</td><td>RESOLVED</td></tr><tr><td>resolution</td><td></td><td>FIXED</td></tr></tbody></table></div></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Description</div><div class=float-left>Matt Kraai&nbsp;&nbsp;Sep 30 2002 18:06:36 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>When I start Workrave, it immediately crashes.  The following dialog is displayed:

 Workrave.exe - Application Error

 The instruction at &#34;0x0126c8d0&#34; referenced memory at &#34;0x00000000&#34;.  The memory
could not be &#34;written&#34;.

 Click OK to terminate the program
 Click on CANCEL to debug the program

I&#39;ll attach the log generated after I clicked on Cancel.</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 1</div><div class=float-left>Matt Kraai&nbsp;&nbsp;Sep 30 2002 18:08:41 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>Created attachment 9
crash log</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 2</div><div class=float-left>Raymond Penners&nbsp;&nbsp;Oct 3 2002 07:51:52 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>A couple of questions, as I cannot reproduce this (and haven&#39;t heard similar
reports from others):
- Are you running 0.1.0, or 0.2.0 ?
- Are you running any other Workrave-like tool ? (tools monitoring user input
may conflict with each other).
- You noted that you are running W2000. Have you installed anything worth
noting, such as a service pack installed?
- Do you have any other programs installed that are built using Gtk, such as the
Gimp for example?
</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 3</div><div class=float-left>Matt Kraai&nbsp;&nbsp;Oct 3 2002 08:01:42 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>&gt; - Are you running 0.1.0, or 0.2.0 ?

This report was based on 0.2.0, but a similar problem occurred with 0.1.0.  The
address of the violating instruction was different, and I wasn&#39;t able to find
the log.

&gt; - Are you running any other Workrave-like tool ? (tools monitoring user input
may conflict with each other).

I&#39;m running OosTime now, but I wasn&#39;t when this crash occurred.

&gt; - You noted that you are running W2000. Have you installed anything worth
noting, such as a service pack installed?

Microsoft Windows 2000
5.00.2195
Service Pack 2

&gt; - Do you have any other programs installed that are built using Gtk, such as the
Gimp for example?

Yes, I have WinGimp 1.2.3 installed, and it works.</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 4</div><div class=float-left>Raymond Penners&nbsp;&nbsp;Oct 3 2002 08:23:00 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>Could you please try deinstalling WinGimp (Gtk specifically) to see if that
corrects the problem? Make sure that all Gtk DLLs are removed from the system.
Perhaps Workrave is mistakenly linking to the Gtk DLLs provided by WinGimp
instead of its own...
</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 5</div><div class=float-left>Matt Kraai&nbsp;&nbsp;Oct 3 2002 08:39:15 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>Uninstalled WinGimp, no change.</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 6</div><div class=float-left>Raymond Penners&nbsp;&nbsp;Oct 7 2002 13:10:15 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>I&#39;ve compiled a debug version that hopefully gives some more insight in what is
happening. Could you please try the following?:

1) Download:
http://workrave.sourceforge.net/files/workrave-win32-20021007-installer.exe
2) Download: 
http://workrave.sourceforge.net/files/workrave-win32-20021007-debug.exe
3) Install the installer version.
4) Replace \Program files\Workrave\Workrave.exe by the debug.exe.
5) Start the program

The debug version generates some debugging output. Could you please send that to us?

Thanks in advance.


</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 7</div><div class=float-left>Matt Kraai&nbsp;&nbsp;Oct 7 2002 14:21:52 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>Created attachment 10
Here is the output of the debugging executable.  It continues printing mouse_hook lines until I dismiss the dialog.</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 8</div><div class=float-left>Raymond Penners&nbsp;&nbsp;Oct 7 2002 21:01:37 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>Ah, now we are getting somewhere, it looks like a problem in harpoon.dll, our
user input monitor. You mention it repeatedly prints the last line of your log?:

&gt;&gt;&gt; Win32InputMonitor::mouse_hook 512, (323, 513, 0)

Are all these lines unique, or do the numbers printed vary? (323,513) is should
equal your mouse coordinates. Do these numbers change when your mouse is moved?
</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 9</div><div class=float-left>Matt Kraai&nbsp;&nbsp;Oct 8 2002 08:36:15 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>It prints the last type of line when I move the mouse, and the numbers in
parentheses do change.  I&#39;m not sure about the first, but the rest all appear
*after* the dialog.</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 10</div><div class=float-left>Raymond Penners&nbsp;&nbsp;Oct 8 2002 14:53:19 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>Hmm, if you see mouse_hooks while you are moving the mouse, that means that the
input monitor is running just fine. The last non input monitor entry appears to
be MainWindow::init, so that should be where the crash is then. I&#39;m still a bit
puzzled... I&#39;ll get back to you later.


</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 11</div><div class=float-left>Matt Kraai&nbsp;&nbsp;Oct 14 2002 16:25:53 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>This bug is still present in 0.3.0, though the address of the offending
instruction is now 0x0128e0e8.
</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 12</div><div class=float-left>Joe Schwendt&nbsp;&nbsp;Oct 15 2002 06:45:00 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>I can confirm this on Win2K SP3 w/ie6 sp1.  This was using a fresh install of 
Workrave v0.3.  Please let me know if I can help in resolving this bug.  
Thanks, Joe.</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 13</div><div class=float-left>Raymond Penners&nbsp;&nbsp;Oct 17 2002 08:04:02 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>I think we&#39;ve got this nailed down now, with the help of Joe Schwendt.
On his machine, there was a copy of zlib.dll in c:\winnt\system32. Workrave
loads that copy, instead of its own (c:\program files\workrave\lib\zlib.dll),
resulting in the crash.

Matt, could you please check if your problem is the same? You probably need to
uninstall the Gimp/Win32 again, and move c:\winnt\system32\zlib.dll out of the
way if it exists.

So, in order to solve this bug once and for all I need to figure out how to
force Workrave to load DLLs from its own path first...
</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 14</div><div class=float-left>Matt Kraai&nbsp;&nbsp;Oct 17 2002 08:18:27 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>Yep, renaming c:\winnt\system32\zlib.dll to c:\winnt\system32\zlib.dll~ fixes
Workrave.  Thanks.
</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 15</div><div class=float-left>Raymond Penners&nbsp;&nbsp;Oct 17 2002 11:14:28 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>Fixed, it should now be safe to place your old/faulty zlib.dll in
c:\winnt\system32 again...</pre></div></div></div></div><div class="row pb-5"></div></div></div><footer class="container bg-light page-footer"><div class="row my-2"><div class="col-12 col-md text-muted"><img src=/images/workrave-logo.svg alt=Workrave style=width:auto;height:20px>
<small class=d-block>&copy; 2001-2020 Raymond Penners & Rob Caelers</small></div><div class="col-12 col-md text-muted"><small>Unless otherwise stated, all text and images on this website are licensed
under the General Public License version 3 or later.<br>This website is powered by <a href=https://gohugo.io>Hugo</a></small></div></div></footer><script src=https://code.jquery.com/jquery-3.4.1.min.js integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js integrity=sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo crossorigin=anonymous></script>
<script src=https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js integrity=sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6 crossorigin=anonymous></script>
<script type=text/javascript src=https://workrave.org/js/main.min.428d5e8643be5482cc6cf2fb1c80b2e5625f8df018f53d6474a9f4d58668e74c58b35e455ed592b933e43659cc50dc11f452e947f61df3fd7b137161a785b411.js integrity="sha512-Qo1ehkO+VILMbPL7HICy5WJfjfAY9T1kdKn01YZo50xYs15FXtWSuTPkNlnMUNwR9FLpR/Yd8/17E3Fhp4W0EQ=="></script></body></html>