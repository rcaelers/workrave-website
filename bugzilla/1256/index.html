<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=generator content="Hugo 0.109.0"><meta name=robots content="noindex, nofollow"><meta name=description content="Workrave is a program that assists in the recovery and prevention of Repetitive Strain Injury (RSI). The program frequently alerts you to take micro-pauses, rest breaks and restricts you to your daily limit. The program runs on GNU/Linux and Microsoft Windows.
"><link rel="shortcut icon" type=image/x-icon href=/images/favicon.ico><link rel=stylesheet href=https://workrave.org/sass/main.min.ce4ba77d420210f043b2eafed49388defb4f40305be1d398a1ad593d5a932d05.css integrity="sha256-zkunfUICEPBDsur+1JOI3vtPQDBb4dOYoa1ZPVqTLQU=" media=screen><link rel=stylesheet href=https://workrave.org/css/main.min.163e0baf8d5e552480563d39ab81526b5107da66d4ad248880e87497fec53ea8.css integrity="sha256-Fj4Lr41eVSSAVj05q4FSa1EH2mbUrSSIgOh0l/7FPqg=" media=screen><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.7.1/css/all.css integrity=sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr crossorigin=anonymous><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Montserrat:300,400,500&display=swap"><link rel=canonical href=https://workrave.org/bugzilla/1256/><title>&#183; Workrave</title></head><body class=bg-light><div class="page-content bg-white"><nav class="navbar fixed-top navbar-expand-lg navbar-light"><div class=container><a class=navbar-brand href=/><img src=/images/workrave-logo.svg alt=Workrave class=page-logo></a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#mainNavBar aria-controls=mainNavBar aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=mainNavBar><ul class="navbar-nav ml-auto"><li class=nav-item><a class="nav-link text-uppercase" href=/about>About</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle text-uppercase" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Get Help</a><div class="dropdown-menu dropdown-menu-right" aria-labelledby=navbarDropdown><a class="dropdown-item text-uppercase" href=/faq/>FAQs</a>
<a class="dropdown-item text-uppercase" href=/docs/>Documentation</a>
<a class="dropdown-item text-uppercase" href=/support/>Support</a></div></li><li class=nav-item><a class="nav-link text-uppercase" href=/contribute>Contribute</a></li><li class=nav-item><a class="nav-link text-uppercase" href=/download/>Downloads</a></li><li class=nav-item><a class="nav-link text-uppercase" href=/blog/>Blog</a></li></ul></div></div></nav><div class="jumbotron jumbotron-fluid banner-style-small"></div><div class="container-lg mt-5 bugzilla" style=max-width:1280px><div class=row><div class="h3 col-md-12 bg-light font-weight-bold">Bug&nbsp;1256 - workrave coredumps arch linux</div></div><div class="row py-5"><div class=col-6><div class=row><div class="col-4 text-right font-weight-bold">Status:</div><div class=col-8>NEW</div></div><div class=row><div class="col-4 text-right font-weight-bold">Component:</div><div class=col-8>GUI</div></div><div class=row><div class="col-4 text-right font-weight-bold">Version:</div><div class=col-8>daily</div></div><div class=row><div class="col-4 text-right font-weight-bold">Hardware:</div><div class=col-8>PC Linux</div></div><div class=row><div class="col-4 text-right font-weight-bold">Importance:</div><div class=col-8>P5 critical</div></div><div class=row><div class="col-4 text-right font-weight-bold">Target Milestone:</div><div class=col-8>---</div></div><div class=row><div class="col-4 text-right font-weight-bold">Assignee:</div><div class=col-8>Rob Caelers</div></div><div class=row><div class="col-4 text-right font-weight-bold">URL:</div><div class=col-8></div></div><div class=row><div class="col-4 text-right font-weight-bold">Depends on:</div><div class=col-8></div></div><div class=row><div class="col-4 text-right font-weight-bold">Blocks:</div><div class=col-8></div></div></div><div class=col-6><div class=row><div class="col-4 text-right font-weight-bold">Reported:</div><div class=col-8>Oct 17 2016 22:54:32 UTC</div></div><div class=row><div class="col-4 text-right font-weight-bold">by:</div><div class=col-8>su**@ac**.org</div></div><div class=row><div class="col-4 text-right font-weight-bold">Modified:</div><div class=col-8>Nov 2 2017 08:57:29 UTC</div></div><div class=row><div class="col-4 text-right font-weight-bold">CC List:</div><div class=col-8>18**@gm**.com</div></div><div class=row><div class="col-4 text-right font-weight-bold"></div><div class=col-8>bj**@gm**.com</div></div><div class=row><div class="col-4 text-right font-weight-bold"></div><div class=col-8>ja**@gm**.com</div></div></div></div><div class="row pb-4"><div class=col-12><div class=card><h5 class="card-header p-1" id=history-header><button class="btn btn-light collapsed w-100 text-left" type=button data-toggle=collapse data-target=#history-content aria-expanded=false aria-controls=history-content>
<i class="fa fa-chevron-down pull-right"></i>&nbsp;history</button></h5><div class="collapse p-0" id=history-content aria-labelledby=history-header><div class="card-body p-0"><table class="table table-dark table-bordered mb-0"><thead><tr><th scope=col>Who</th><th scope=col>When</th><th scope=col>What</th><th scope=col>Removed</th><th scope=col>Added</th></tr></thead><tbody><tr><th scope=row rowspan=1>bj**@gm**.com</th><td rowspan=1>Nov 28 2016 21:51:08 UTC</td><td>cc</td><td></td><td>bj**@gm**.com</td></tr><tr><th scope=row rowspan=1>18**@gm**.com</th><td rowspan=1>Dec 29 2016 18:38:49 UTC</td><td>cc</td><td></td><td>18**@gm**.com</td></tr><tr><th scope=row rowspan=1>ja**@gm**.com</th><td rowspan=1>Nov 1 2017 19:41:17 UTC</td><td>cc</td><td></td><td>ja**@gm**.com</td></tr></tbody></table></div></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Description</div><div class=float-left>su**@ac**.org&nbsp;&nbsp;Oct 17 2016 22:54:32 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>I installed workrave from source (commit 374ffa64628609d967a2deb92ae117e1ad40b483) on my arch linux machine. I built it with configure; make; make install.

Launching workrave from the console causes it to coredump. Here is the back trace from gdb

-------------------------------------------------
rogram terminated with signal SIGSEGV, Segmentation fault.
#0  0x0000000000000020 in ?? ()
[Current thread is 1 (Thread 0x7efd05e589c0 (LWP 1126))]
(gdb) bt
#0  0x0000000000000020 in  ()
#1  0x00007efd03e8156b in XQueryExtension () at /usr/lib/libX11.so.6
#2  0x00007efd03e750f2 in XInitExtension () at /usr/lib/libX11.so.6
#3  0x00007efcfee5938f in XextAddDisplay () at /usr/lib/libXext.so.6
#4  0x00007efd050ed061 in XScreenSaverQueryExtension () at /usr/lib/libXss.so.1
#5  0x00000000004cbc38 in XScreenSaverMonitor::init() (this=0x1856290) at XScreenSaverMonitor.cc:71
#6  0x00000000004caddc in UnixInputMonitorFactory::get_monitor(IInputMonitorFactory::MonitorCapability) (this=0x1856190, capability=&lt;optimized out&gt;) at UnixInputMonitorFactory.cc:107
#7  0x00000000004cc1bc in ActivityMonitor::ActivityMonitor() (this=0x18561f0) at ActivityMonitor.cc:76
#8  0x00000000004aaf06 in Core::init_monitor(std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;) (this=0x1849bf0, display_name=...) at Core.cc:286
#9  0x00000000004ad37a in Core::init(int, char**, workrave::IApp*, std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;) (this=0x1849bf0, argc=&lt;optimized out&gt;, argv=&lt;optimized out&gt;, app=&lt;optimized out&gt;, display_name=&#34;wayland-0&#34;) at Core.cc:171
#10 0x000000000046a253 in GUI::init_core() (this=this@entry=0x17798a0) at GUI.cc:544
#11 0x000000000045e508 in GUI::main() (this=this@entry=0x17798a0) at GUI.cc:221
#12 0x000000000048c26b in run(int, char**) (argc=1, argv=0x7ffe3c1759a8) at main.cc:68
#13 0x00007efcff487291 in __libc_start_main () at /usr/lib/libc.so.6
#14 0x000000000046054a in _start ()

---------------------------------------------------</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 1</div><div class=float-left>Rob Caelers&nbsp;&nbsp;Oct 19 2016 17:33:10 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>Any chance you are running Gnome on Wayland?</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 2</div><div class=float-left>su**@ac**.org&nbsp;&nbsp;Oct 19 2016 17:40:49 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>Yes I am running Gnome on Wayland</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 3</div><div class=float-left>Rob Caelers&nbsp;&nbsp;Oct 21 2016 16:19:12 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>Workrave currently does not support Wayland. I&#39;m trying to add Wayland support to Workrave.

I noticed that in Arch you can select &#39;GNOME on Xorg&#39; in the login screen. Workrave will run in the mode.</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 4</div><div class=float-left>18**@gm**.com&nbsp;&nbsp;Dec 29 2016 18:38:49 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>*** Bug 1255 has been marked as a duplicate of this bug. ***</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 5</div><div class=float-left>18**@gm**.com&nbsp;&nbsp;Dec 29 2016 18:42:50 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>Is there any plans to port workrave to GTK 3?
I think that will fix several issues including this one.</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 6</div><div class=float-left>18**@gm**.com&nbsp;&nbsp;Oct 25 2017 14:17:45 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>Hi I just tried 1.10.18 and it crashes on Wayland on ArchLinux. Here is the info the core dump:
           PID: 22013 (workrave)
           UID: 1000 (amir)
           GID: 1000 (amir)
        Signal: 5 (TRAP)
     Timestamp: Wed 2017-10-25 16:07:34 CEST (4min 14s ago)
  Command Line: workrave
    Executable: /usr/bin/workrave
 Control Group: /u**@10**.service/gnome-terminal-server.service
          Unit: us**@10**.service
     User Unit: gnome-terminal-server.service
         Slice: user-1000.slice
     Owner UID: 1000 (amir)
       Boot ID: 8b34de00a92d4b7a9886ddd156da6c56
    Machine ID: 7976738470854f418d246faebfc5aea5
      Hostname: archie
       Storage: /var/lib/systemd/coredump/core.workrave.1000.8b34de00a92d4b7a9886ddd156da6c56.22013.1508940454000000.lz4
       Message: Process 22013 (workrave) of user 1000 dumped core.
                
                Stack trace of thread 22013:
                #0  0x00007fafeb3d5cd2 n/a (libglib-2.0.so.0)
                #1  0x00007fafeb3d5ecd g_log_default_handler (libglib-2.0.so.0)
                #2  0x00007fafeb3d64ef g_logv (libglib-2.0.so.0)
                #3  0x00007fafeb3d6680 g_log (libglib-2.0.so.0)
                #4  0x00007fafec35fd72 n/a (libgio-2.0.so.0)
                #5  0x00007fafec2a47e1 g_settings_get_value (libgio-2.0.so.0)
                #6  0x0000564c6c59ae52 _ZNK21GSettingsConfigurator9get_valueERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE11VariantTypeR7Variant (workrave)
                #7  0x0000564c6c5960aa _ZNK12Configurator9get_valueERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE11VariantTypeR7Variant (workrave)
                #8  0x0000564c6c597503 _ZN12Configurator9set_valueERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEER7VariantN8workrave11ConfigFlagsE (workrave)
                #9  0x0000564c6c5980e9 _ZN12Configurator9set_valueERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEEiN8workrave11ConfigFlagsE (workrave)
                #10 0x0000564c6c56eac3 _ZN4Core12init_monitorERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE (workrave)
                #11 0x0000564c6c57136c _ZN4Core4initEiPPcPN8workrave4IAppERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE (workrave)
                #12 0x0000564c6c526e8c _ZN3GUI9init_coreEv (workrave)
                #13 0x0000564c6c5187b6 _ZN3GUI4mainEv (workrave)
                #14 0x0000564c6c54dbfe run (workrave)
                #15 0x00007fafea4c1f6a __libc_start_main (libc.so.6)
                #16 0x0000564c6c51aa4a _start (workrave)
                
                Stack trace of thread 22016:
                #0  0x00007fafea591c49 syscall (libc.so.6)
                #1  0x00007fafeb3f45dd n/a (libglib-2.0.so.0)
                #2  0x00007fafec327274 n/a (libgio-2.0.so.0)
                #3  0x00007fafec2b4a60 n/a (libgio-2.0.so.0)
                #4  0x00007fafec3470dc n/a (libgio-2.0.so.0)
                #5  0x00007fafec347119 n/a (libgio-2.0.so.0)
                #6  0x00007fafeb3cb0be g_main_context_dispatch (libglib-2.0.so.0)
                #7  0x00007fafeb3ccf69 n/a (libglib-2.0.so.0)
                #8  0x00007fafeb3cdf42 g_main_loop_run (libglib-2.0.so.0)
                #9  0x00007fafec2a7e28 n/a (libgio-2.0.so.0)
                #10 0x00007fafeb3c11eb n/a (libglib-2.0.so.0)
                #11 0x00007fafea85f08a start_thread (libpthread.so.0)
                #12 0x00007fafea59724f __clone (libc.so.6)
                
                Stack trace of thread 22014:
                #0  0x00007fafeb3a4b29 g_datalist_id_set_data_full (libglib-2.0.so.0)
                #1  0x00007fafeb69d26c n/a (libgobject-2.0.so.0)
                #2  0x00007fafeb69d407 n/a (libgobject-2.0.so.0)
                #3  0x00007fafeb6ab818 g_type_create_instance (libgobject-2.0.so.0)
                #4  0x00007fafeb69f469 n/a (libgobject-2.0.so.0)
                #5  0x00007fafeb6a097d g_object_new_with_properties (libgobject-2.0.so.0)
                #6  0x00007fafeb6a0a7a g_object_new (libgobject-2.0.so.0)
                #7  0x00007fafec348647 g_task_new (libgio-2.0.so.0)
                #8  0x00007fafec327beb n/a (libgio-2.0.so.0)
                #9  0x00007fafec327dd7 g_dbus_connection_send_message_with_reply (libgio-2.0.so.0)
                #10 0x00007fafec32bbe6 n/a (libgio-2.0.so.0)
                #11 0x00007fafec32bd85 g_dbus_connection_call (libgio-2.0.so.0)
                #12 0x00007fafe0a249e0 n/a (libdconfsettings.so)
                #13 0x00007fafeb3cb0be g_main_context_dispatch (libglib-2.0.so.0)
                #14 0x00007fafeb3ccf69 n/a (libglib-2.0.so.0)
                #15 0x00007fafeb3ccfae g_main_context_iteration (libglib-2.0.so.0)
                #16 0x00007fafe0a24b0e n/a (libdconfsettings.so)
                #17 0x00007fafeb3c11eb n/a (libglib-2.0.so.0)
                #18 0x00007fafea85f08a start_thread (libpthread.so.0)
                #19 0x00007fafea59724f __clone (libc.so.6)
                
                Stack trace of thread 22015:
                #0  0x00007fafea58cd4b __poll (libc.so.6)
                #1  0x00007fafeb3cced3 n/a (libglib-2.0.so.0)
                #2  0x00007fafeb3ccfae g_main_context_iteration (libglib-2.0.so.0)
                #3  0x00007fafeb3cd002 n/a (libglib-2.0.so.0)
                #4  0x00007fafeb3c11eb n/a (libglib-2.0.so.0)
                #5  0x00007fafea85f08a start_thread (libpthread.so.0)
                #6  0x00007fafea59724f __clone (libc.so.6)


If you need more information, please let me know.</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 7</div><div class=float-left>18**@gm**.com&nbsp;&nbsp;Oct 25 2017 15:55:25 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>Sorry the issue I reported in my last comment does not just happen on Wayland. It happens on X11 too. Here is the error I get through the terminal:
 (workrave:25615): GLib-GIO-ERROR **: Settings schema &#39;org.workrave.monitor&#39; does not contain a key named &#39;sensitivity&#39;

And here is the gdb backtrace:
#0  0x00007f0cf6e0bcd2 in  () at /usr/lib/libglib-2.0.so.0
#1  0x00007f0cf6e0becd in g_log_default_handler () at /usr/lib/libglib-2.0.so.0
#2  0x00007f0cf6e0c4ef in g_logv () at /usr/lib/libglib-2.0.so.0
#3  0x00007f0cf6e0c680 in g_log () at /usr/lib/libglib-2.0.so.0
#4  0x00007f0cf7d95d72 in  () at /usr/lib/libgio-2.0.so.0
#5  0x00007f0cf7cda7e1 in g_settings_get_value () at /usr/lib/libgio-2.0.so.0
#6  0x0000564d71da5e52 in GSettingsConfigurator::get_value(std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;, VariantType, Variant&amp;) const ()
#7  0x0000564d71da10aa in Configurator::get_value(std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;, VariantType, Variant&amp;) const ()
#8  0x0000564d71da2503 in Configurator::set_value(std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;, Variant&amp;, workrave::ConfigFlags) ()
#9  0x0000564d71da30e9 in Configurator::set_value(std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;, int, workrave::ConfigFlags) ()
#10 0x0000564d71d79ac3 in Core::init_monitor(std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;) ()
#11 0x0000564d71d7c36c in Core::init(int, char**, workrave::IApp*, std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;) ()
#12 0x0000564d71d31e8c in GUI::init_core() ()
#13 0x0000564d71d237b6 in GUI::main() ()
#14 0x0000564d71d58bfe in run ()
#15 0x00007f0cf5ef7f6a in __libc_start_main () at /usr/lib/libc.so.6
#16 0x0000564d71d25a4a in _start ()</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 8</div><div class=float-left>ja**@gm**.com&nbsp;&nbsp;Nov 1 2017 19:41:17 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>I am on X11 (not Wayland) and experience this same bug, it is not due to Wayland. I am on archlinux using i3 window manager.</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 9</div><div class=float-left>ja**@gm**.com&nbsp;&nbsp;Nov 2 2017 08:57:29 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>Also, you may be interested in the issue page on the archlinux bug tracker:

https://bugs.archlinux.org/task/56115?project=5&amp;cat%5B0%5D=33&amp;string=workrave

They identified the commit that causes the crash as:

https://github.com/rcaelers/workrave/commit/81329192d052fc89b06d6783cd46c791c8e0d0b9</pre></div></div></div></div><div class="row pb-5"></div></div></div><footer class="container bg-light page-footer"><div class="row my-2"><div class="col-12 col-md text-muted"><img src=/images/workrave-logo.svg alt=Workrave style=width:auto;height:20px>
<small class=d-block>&copy; 2001-2020 Raymond Penners & Rob Caelers</small></div><div class="col-12 col-md text-muted"><small>Unless otherwise stated, all text and images on this website are licensed
under the General Public License version 3 or later.<br>This website is powered by <a href=https://gohugo.io>Hugo</a></small></div></div></footer><script src=https://code.jquery.com/jquery-3.4.1.min.js integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js integrity=sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo crossorigin=anonymous></script>
<script src=https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js integrity=sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6 crossorigin=anonymous></script>
<script type=text/javascript src=https://workrave.org/js/main.min.428d5e8643be5482cc6cf2fb1c80b2e5625f8df018f53d6474a9f4d58668e74c58b35e455ed592b933e43659cc50dc11f452e947f61df3fd7b137161a785b411.js integrity="sha512-Qo1ehkO+VILMbPL7HICy5WJfjfAY9T1kdKn01YZo50xYs15FXtWSuTPkNlnMUNwR9FLpR/Yd8/17E3Fhp4W0EQ=="></script></body></html>