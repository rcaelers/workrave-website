<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=generator content="Hugo 0.109.0"><meta name=robots content="noindex, nofollow"><meta name=description content="Workrave is a program that assists in the recovery and prevention of Repetitive Strain Injury (RSI). The program frequently alerts you to take micro-pauses, rest breaks and restricts you to your daily limit. The program runs on GNU/Linux and Microsoft Windows.
"><link rel="shortcut icon" type=image/x-icon href=/images/favicon.ico><link rel=stylesheet href=https://workrave.org/sass/main.min.ce4ba77d420210f043b2eafed49388defb4f40305be1d398a1ad593d5a932d05.css integrity="sha256-zkunfUICEPBDsur+1JOI3vtPQDBb4dOYoa1ZPVqTLQU=" media=screen><link rel=stylesheet href=https://workrave.org/css/main.min.163e0baf8d5e552480563d39ab81526b5107da66d4ad248880e87497fec53ea8.css integrity="sha256-Fj4Lr41eVSSAVj05q4FSa1EH2mbUrSSIgOh0l/7FPqg=" media=screen><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.7.1/css/all.css integrity=sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr crossorigin=anonymous><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Montserrat:300,400,500&display=swap"><link rel=canonical href=https://workrave.org/bugzilla/330/><title>&#183; Workrave</title></head><body class=bg-light><div class="page-content bg-white"><nav class="navbar fixed-top navbar-expand-lg navbar-light"><div class=container><a class=navbar-brand href=/><img src=/images/workrave-logo.svg alt=Workrave class=page-logo></a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#mainNavBar aria-controls=mainNavBar aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=mainNavBar><ul class="navbar-nav ml-auto"><li class=nav-item><a class="nav-link text-uppercase" href=/about>About</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle text-uppercase" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Get Help</a><div class="dropdown-menu dropdown-menu-right" aria-labelledby=navbarDropdown><a class="dropdown-item text-uppercase" href=/faq/>FAQs</a>
<a class="dropdown-item text-uppercase" href=/docs/>Documentation</a>
<a class="dropdown-item text-uppercase" href=/support/>Support</a></div></li><li class=nav-item><a class="nav-link text-uppercase" href=/contribute>Contribute</a></li><li class=nav-item><a class="nav-link text-uppercase" href=/download/>Downloads</a></li><li class=nav-item><a class="nav-link text-uppercase" href=/blog/>Blog</a></li></ul></div></div></nav><div class="jumbotron jumbotron-fluid banner-style-small"></div><div class="container-lg mt-5 bugzilla" style=max-width:1280px><div class=row><div class="h3 col-md-12 bg-light font-weight-bold">Bug&nbsp;330 - Nightly builds have incorrect version information.</div></div><div class="row py-5"><div class=col-6><div class=row><div class="col-4 text-right font-weight-bold">Status:</div><div class=col-8>RESOLVED FIXED</div></div><div class=row><div class="col-4 text-right font-weight-bold">Component:</div><div class=col-8>Debian</div></div><div class=row><div class="col-4 text-right font-weight-bold">Version:</div><div class=col-8>unspecified</div></div><div class=row><div class="col-4 text-right font-weight-bold">Hardware:</div><div class=col-8>PC All</div></div><div class=row><div class="col-4 text-right font-weight-bold">Importance:</div><div class=col-8>P2 normal</div></div><div class=row><div class="col-4 text-right font-weight-bold">Target Milestone:</div><div class=col-8>---</div></div><div class=row><div class="col-4 text-right font-weight-bold">Assignee:</div><div class=col-8>Rob Caelers</div></div><div class=row><div class="col-4 text-right font-weight-bold">URL:</div><div class=col-8></div></div><div class=row><div class="col-4 text-right font-weight-bold">Depends on:</div><div class=col-8></div></div><div class=row><div class="col-4 text-right font-weight-bold">Blocks:</div><div class=col-8></div></div></div><div class=col-6><div class=row><div class="col-4 text-right font-weight-bold">Reported:</div><div class=col-8>Nov 3 2003 02:11:48 UTC</div></div><div class=row><div class="col-4 text-right font-weight-bold">by:</div><div class=col-8>Johannes Rohr</div></div><div class=row><div class="col-4 text-right font-weight-bold">Modified:</div><div class=col-8>Dec 29 2003 05:15:15 UTC</div></div></div></div><div class="row pb-4"><div class=col-12><div class=card><h5 class="card-header p-1" id=history-header><button class="btn btn-light collapsed w-100 text-left" type=button data-toggle=collapse data-target=#history-content aria-expanded=false aria-controls=history-content>
<i class="fa fa-chevron-down pull-right"></i>&nbsp;history</button></h5><div class="collapse p-0" id=history-content aria-labelledby=history-header><div class="card-body p-0"><table class="table table-dark table-bordered mb-0"><thead><tr><th scope=col>Who</th><th scope=col>When</th><th scope=col>What</th><th scope=col>Removed</th><th scope=col>Added</th></tr></thead><tbody><tr><th scope=row rowspan=2>Rob Caelers</th><td rowspan=2>Nov 3 2003 05:16:38 UTC</td><td>op_sys</td><td>AIX</td><td>All</td></tr><tr><td>status</td><td>NEW</td><td>ASSIGNED</td></tr><tr><th scope=row rowspan=2>Rob Caelers</th><td rowspan=2>Dec 29 2003 05:15:15 UTC</td><td>status</td><td>ASSIGNED</td><td>RESOLVED</td></tr><tr><td>resolution</td><td></td><td>FIXED</td></tr></tbody></table></div></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Description</div><div class=float-left>Johannes Rohr&nbsp;&nbsp;Nov 3 2003 02:11:48 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>The nightly build debs I&#39;ve tested contain wrong version information. 
The control info says &#34;1.4.0&#34;. This is unfortunate if you are using Debian,
because on every apt-get upgrade, the nightly will be replaced by Debian&#39;s
official package. The Debian Main archive has higher priority for apt.

If two packages with equal version info compete, the offical one wins:

apt-cajr@rudi:~$ apt-cache policy workrave
workrave:
  Installiert:1.4.0
  MÃ¶gliche Pakete:1.4.0-1
  Versions-Tabelle:
     1.4.0-1 0
        500 ftp://ftp.de.debian.org unstable/main Packages
 *** 1.4.0 0
        100 /var/lib/dpkg/status

Here you see that apt gives the offical package 500 point while the currently
installed nightly gets only 100. That means that on apt-get upgrade it will be
replaced.

An additional factor, BTW, is that the offical package has a Debian revision
number appended (&#39;-1&#39;). For apt 1.4.0-1 is greater than 1.4.0.

To avoid this, you should apply a proper Debian-style naming scheme. 
In Debian, packages built from CVS are usually named

package_version&#43;cvsYYYYMMYY-Rev, e.g.:

workrave_1.4.0&#43;cvs20031103-1

The bits appended to the version number would make sure that apt considers the
version number to be higher than 1.4.0 and thus to give it prevalence over the
latest official package (1.4.0-1)

Thanks,

Johannes</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 1</div><div class=float-left>Rob Caelers&nbsp;&nbsp;Nov 3 2003 05:16:38 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>Ok. I will change this. 

I removed the debian revision number (the &#34;-1&#34;) because dpkg-buildpackage
complained that this was not allowed for upstream package (If I remember correctly)</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 2</div><div class=float-left>Rob Caelers&nbsp;&nbsp;Nov 3 2003 05:54:38 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>A Question. The current CVS has version 1.4.1, so the nightly build will be
named &#39;workrave_1.4.1&#43;cvs20031103-1&#39;. Will this cause upgrade problems when
&#39;workrave-1.4.1-1&#39; is released in unstable? (I&#39;m not familiar with the &#43; in the
version number...) In other words do we have to call our CVS release 1.4.0 (or
1.4.0.99) to avoid future upgrade problems?? </pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 3</div><div class=float-left>Johannes Rohr&nbsp;&nbsp;Nov 3 2003 07:41:41 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>To your first comment: You must not have a Debian revision number in the name of
the *upstream source tarball*. But as soon as you debianize a package, you have
three files

- package_version.orig.tar.gz (no revision number)
- package_version-rev.diff.gz (with, containing the diff between upstream and
debianized)
- package_version-rev.dsc (with, so-called Debian source control).

The Debian revision number is defined by the last entry in debian/changelog

I don&#39;t know if that answers your question, if not, let me know.

To your other question: I have to check the Debian policy manual for that.
Probably you&#39;re right with 1.4.0.99. But atm I cannot because my son
categorically wants me to go out and play with him. I&#39;ll be back later.</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 4</div><div class=float-left>Johannes Rohr&nbsp;&nbsp;Nov 3 2003 07:47:56 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>One little addition: Don&#39;t bother about the Debian revision number. This is all
about an unofficial package so you don&#39;t have to win the lintian beauty contest.
all you have to do is to choose a version number that apt regards higher than
1.4.0-[1-9] an d that at the same time doesn&#39;t block the upgrade path to 1.4.1-1

Choosing 1.4.0.99 sounds like an excellent solution to me.

Another option is to rename the package to e.g. workrave-snapshot or workrave-cvs</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 5</div><div class=float-left>Rob Caelers&nbsp;&nbsp;Dec 29 2003 05:15:15 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>Renaming to workrave-cvs</pre></div></div></div></div><div class="row pb-5"></div></div></div><footer class="container bg-light page-footer"><div class="row my-2"><div class="col-12 col-md text-muted"><img src=/images/workrave-logo.svg alt=Workrave style=width:auto;height:20px>
<small class=d-block>&copy; 2001-2020 Raymond Penners & Rob Caelers</small></div><div class="col-12 col-md text-muted"><small>Unless otherwise stated, all text and images on this website are licensed
under the General Public License version 3 or later.<br>This website is powered by <a href=https://gohugo.io>Hugo</a></small></div></div></footer><script src=https://code.jquery.com/jquery-3.4.1.min.js integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js integrity=sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo crossorigin=anonymous></script>
<script src=https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js integrity=sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6 crossorigin=anonymous></script>
<script type=text/javascript src=https://workrave.org/js/main.min.428d5e8643be5482cc6cf2fb1c80b2e5625f8df018f53d6474a9f4d58668e74c58b35e455ed592b933e43659cc50dc11f452e947f61df3fd7b137161a785b411.js integrity="sha512-Qo1ehkO+VILMbPL7HICy5WJfjfAY9T1kdKn01YZo50xYs15FXtWSuTPkNlnMUNwR9FLpR/Yd8/17E3Fhp4W0EQ=="></script></body></html>