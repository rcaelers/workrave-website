<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=generator content="Hugo 0.109.0"><meta name=robots content="noindex, nofollow"><meta name=description content="Workrave is a program that assists in the recovery and prevention of Repetitive Strain Injury (RSI). The program frequently alerts you to take micro-pauses, rest breaks and restricts you to your daily limit. The program runs on GNU/Linux and Microsoft Windows.
"><link rel="shortcut icon" type=image/x-icon href=/images/favicon.ico><link rel=stylesheet href=https://workrave.org/sass/main.min.ce4ba77d420210f043b2eafed49388defb4f40305be1d398a1ad593d5a932d05.css integrity="sha256-zkunfUICEPBDsur+1JOI3vtPQDBb4dOYoa1ZPVqTLQU=" media=screen><link rel=stylesheet href=https://workrave.org/css/main.min.163e0baf8d5e552480563d39ab81526b5107da66d4ad248880e87497fec53ea8.css integrity="sha256-Fj4Lr41eVSSAVj05q4FSa1EH2mbUrSSIgOh0l/7FPqg=" media=screen><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.7.1/css/all.css integrity=sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr crossorigin=anonymous><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Montserrat:300,400,500&display=swap"><link rel=canonical href=https://workrave.org/bugzilla/1037/><title>&#183; Workrave</title></head><body class=bg-light><div class="page-content bg-white"><nav class="navbar fixed-top navbar-expand-lg navbar-light"><div class=container><a class=navbar-brand href=/><img src=/images/workrave-logo.svg alt=Workrave class=page-logo></a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#mainNavBar aria-controls=mainNavBar aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=mainNavBar><ul class="navbar-nav ml-auto"><li class=nav-item><a class="nav-link text-uppercase" href=/about>About</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle text-uppercase" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Get Help</a><div class="dropdown-menu dropdown-menu-right" aria-labelledby=navbarDropdown><a class="dropdown-item text-uppercase" href=/faq/>FAQs</a>
<a class="dropdown-item text-uppercase" href=/docs/>Documentation</a>
<a class="dropdown-item text-uppercase" href=/support/>Support</a></div></li><li class=nav-item><a class="nav-link text-uppercase" href=/contribute>Contribute</a></li><li class=nav-item><a class="nav-link text-uppercase" href=/download/>Downloads</a></li><li class=nav-item><a class="nav-link text-uppercase" href=/blog/>Blog</a></li></ul></div></div></nav><div class="jumbotron jumbotron-fluid banner-style-small"></div><div class="container-lg mt-5 bugzilla" style=max-width:1280px><div class=row><div class="h3 col-md-12 bg-light font-weight-bold">Bug&nbsp;1037 - When networking is configured on Windows 7, WorkRave crashes (and every startup thereafter)</div></div><div class="row py-5"><div class=col-6><div class=row><div class="col-4 text-right font-weight-bold">Status:</div><div class=col-8>NEW</div></div><div class=row><div class="col-4 text-right font-weight-bold">Component:</div><div class=col-8>Core :: Win32</div></div><div class=row><div class="col-4 text-right font-weight-bold">Version:</div><div class=col-8>1.9.4</div></div><div class=row><div class="col-4 text-right font-weight-bold">Hardware:</div><div class=col-8>PC Windows 7</div></div><div class=row><div class="col-4 text-right font-weight-bold">Importance:</div><div class=col-8>P5 critical</div></div><div class=row><div class="col-4 text-right font-weight-bold">Target Milestone:</div><div class=col-8>---</div></div><div class=row><div class="col-4 text-right font-weight-bold">Assignee:</div><div class=col-8>Raymond Penners</div></div><div class=row><div class="col-4 text-right font-weight-bold">URL:</div><div class=col-8></div></div><div class=row><div class="col-4 text-right font-weight-bold">Depends on:</div><div class=col-8></div></div><div class=row><div class="col-4 text-right font-weight-bold">Blocks:</div><div class=col-8></div></div></div><div class=col-6><div class=row><div class="col-4 text-right font-weight-bold">Reported:</div><div class=col-8>Sep 8 2011 11:17:29 UTC</div></div><div class=row><div class="col-4 text-right font-weight-bold">by:</div><div class=col-8>ma**@gm**.com</div></div><div class=row><div class="col-4 text-right font-weight-bold">Modified:</div><div class=col-8>May 29 2013 15:21:40 UTC</div></div><div class=row><div class="col-4 text-right font-weight-bold">CC List:</div><div class=col-8>Aleksej</div></div><div class=row><div class="col-4 text-right font-weight-bold"></div><div class=col-8>ma**@gm**.com</div></div><div class=row><div class="col-4 text-right font-weight-bold"></div><div class=col-8>Ray Satiro</div></div><div class=row><div class="col-4 text-right font-weight-bold"></div><div class=col-8>Rob Caelers</div></div><div class=row><div class="col-4 text-right font-weight-bold"></div><div class=col-8>Paul Walker</div></div><div class=row><div class="col-4 text-right font-weight-bold"></div><div class=col-8>Arief Wibowo</div></div></div></div><div class="row pb-4"><div class=col-12><div class=card><h5 class="card-header p-1" id=attachments-header><button class="btn btn-light collapsed w-100 text-left" type=button data-toggle=collapse data-target=#attachments-content aria-expanded=false aria-controls=attachments-content>
<i class="fa fa-chevron-down pull-right"></i>&nbsp;Attachments</button></h5><div class=collapse id=attachments-content aria-labelledby=attachments-header><div class="card-body p-0"><table class="table table-dark table-bordered mb-0"><thead><tr><th scope=col>Id</th><th scope=col>Who</th><th scope=col>When</th><th scope=col>Size</th><th scope=col>Type</th></tr></thead><tbody><tr><th scope=row rowspan=2>271</th><td colspan=4><a href=https://workrave.org/bugzilla/attachments/attachment-271.txt>Crash Log</a><tr><td>Arief Wibowo</td><td>Mar 19 2012 11:48:06 UTC</td><td>14178</td><td>text/plain</td></tr><tr><th scope=row rowspan=2>272</th><td colspan=4><a href=https://workrave.org/bugzilla/attachments/attachment-272.gif>Micro-break prompt, even without any usage. (The only usage was to capture the screenshot)</a><br><img src=https://workrave.org/bugzilla/attachments/attachment-272.gif class="img-fluid img-thumbnail pt-2" alt="Micro-break prompt, even without any usage. (The only usage was to capture the screenshot)"></td></tr><tr><td>Arief Wibowo</td><td>Mar 24 2012 03:25:31 UTC</td><td>6454</td><td>image/gif</td></tr></tbody></table></div></div></div></div></div><div class="row pb-4"><div class=col-12><div class=card><h5 class="card-header p-1" id=history-header><button class="btn btn-light collapsed w-100 text-left" type=button data-toggle=collapse data-target=#history-content aria-expanded=false aria-controls=history-content>
<i class="fa fa-chevron-down pull-right"></i>&nbsp;history</button></h5><div class="collapse p-0" id=history-content aria-labelledby=history-header><div class="card-body p-0"><table class="table table-dark table-bordered mb-0"><thead><tr><th scope=col>Who</th><th scope=col>When</th><th scope=col>What</th><th scope=col>Removed</th><th scope=col>Added</th></tr></thead><tbody><tr><th scope=row rowspan=1>ma**@gm**.com</th><td rowspan=1>Sep 8 2011 11:31:51 UTC</td><td>cc</td><td></td><td>ma**@gm**.com</td></tr><tr><th scope=row rowspan=1>Rob Caelers</th><td rowspan=1>Oct 22 2011 18:17:16 UTC</td><td>cc</td><td></td><td>Rob Caelers</td></tr><tr><th scope=row rowspan=1>Arief Wibowo</th><td rowspan=1>Mar 19 2012 11:57:43 UTC</td><td>cc</td><td></td><td>Arief Wibowo</td></tr><tr><th scope=row rowspan=1>Paul Walker</th><td rowspan=1>Jun 7 2012 13:59:03 UTC</td><td>cc</td><td></td><td>Paul Walker</td></tr><tr><th scope=row rowspan=1>Ray Satiro</th><td rowspan=1>Sep 6 2012 05:55:35 UTC</td><td>cc</td><td></td><td>Ray Satiro</td></tr><tr><th scope=row rowspan=1>Aleksej</th><td rowspan=1>May 29 2013 15:21:40 UTC</td><td>cc</td><td></td><td>Aleksej</td></tr></tbody></table></div></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Description</div><div class=float-left>ma**@gm**.com&nbsp;&nbsp;Sep 8 2011 11:17:29 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>Some time after a host is added WorkRave crashes on Windows 7. If you restart or even reinstall/restart, Workrave crashes as well. Reproducible on both machines (both Windows 7).

Dialog box contains information:

glibmm-ERROR **:
unhandled exception (type std::exception) in signal handler: what: std::exception

aborting...

Windows crash information:
Problem signature:
  Problem Event Name:	APPCRASH
  Application Name:	Workrave.exe
  Application Version:	1.9.4.0
  Application Timestamp:	4d8b7749
  Fault Module Name:	libglib-2.0-0.dll
  Fault Module Version:	2.20.5.0
  Fault Module Timestamp:	4a9ed1c6
  Exception Code:	40000015
  Exception Offset:	00033648
  OS Version:	6.1.7600.2.0.0.256.4
  Locale ID:	1033
  Additional Information 1:	9b08
  Additional Information 2:	9b0885ac8a01f6cad3da0db848c8a88c
  Additional Information 3:	f23c
  Additional Information 4:	f23c411951ea2ca14cf9aea31fbb0593</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 1</div><div class=float-left>Rob Caelers&nbsp;&nbsp;Oct 22 2011 18:17:16 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>I will try to reproduce this problem. 

To get Workrave running again, you could open regedit.exe and delete the following key:

HKEY_CURRENT_USER\Software\Workrave\distribution</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 2</div><div class=float-left>Arief Wibowo&nbsp;&nbsp;Mar 19 2012 11:48:06 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>Created attachment 271
Crash Log

Hi,

I have a same problem as described here (crash on startup), but I notice the problem right after my computer resumed from hibernation.

While searching your sourceforge downloads, I found a debug version and installed it. Attached is the crash log created by it.

Before installing the debug version, I have:
- Uninstalled the application,
- Searched the computer for any files/folders called Workrave and deleted them,
- Searched the registry for any keys containing Workrave and deleted them, except the ones related to sound notification. (Hence, HKEY_CURRENT_USER\Software\Workrave\distribution is deleted)

Additionally, this issue is reproducible on Windows 7 x64, which connects to another Workrave on Windows Server 2008 R2 (networking), which is always on.

Thanks.</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 3</div><div class=float-left>Arief Wibowo&nbsp;&nbsp;Mar 19 2012 11:57:43 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>Hi,

In addition to my previous comments, after I restarted, I get this error on the command prompt window:

terminate called after throwing an instance of &#39;SocketException&#39;
  what():  std::exception

This application has requested the Runtime to terminate it in an unusual way.
Please contact the application&#39;s support team for more information.

Thanks.</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 4</div><div class=float-left>Rob Caelers&nbsp;&nbsp;Mar 21 2012 21:15:51 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>Could you please check if this build fixes the problem:

http://snapshots.workrave.org/20120321/workrave-win32-v1_9_906-51-g62b587dca6-dirty-20120321-installer.exe


Thanks!</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 5</div><div class=float-left>ma**@gm**.com&nbsp;&nbsp;Mar 23 2012 18:10:36 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>Unfortunately I don&#39;t have access to the setup anymore.</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 6</div><div class=float-left>Arief Wibowo&nbsp;&nbsp;Mar 24 2012 03:25:31 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>Created attachment 272
Micro-break prompt, even without any usage. (The only usage was to capture the screenshot)

Now, the Workraves (client and server) has problem detecting computer usage:
- I do not use the server machine, but Workrave detects usage, prompts for micro-break, and give the buzz after 30 seconds.

- I stopped using the client machine as soon as Workrave prompts for micro-break, it still gives buzz after 30 seconds. (see attached screenshot)

- Sometimes, client Workrave successfully detected no usage, and goes to the micro-break screen, but this screen detects usage, so the timer freezes and flashing orange border.

And, no matter I use or not, Workrave timer keeps running down (it was 2 minutes when I started typing this comment, now it is -5 minutes).

But, both timers seems to sync properly, and I haven&#39;t get a crash so far.

Thanks.

(In reply to comment #4)
&gt; Could you please check if this build fixes the problem:
&gt; 
&gt; http://snapshots.workrave.org/20120321/workrave-win32-v1_9_906-51-g62b587dca6-dirty-20120321-installer.exe
&gt; 
&gt; 
&gt; Thanks!</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 7</div><div class=float-left>Arief Wibowo&nbsp;&nbsp;Mar 24 2012 03:34:17 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>And I just found out that the server Workrave hangs when I quit it. The process has constant CPU usage of 25% (which based on my experience means it is stuck in a deadlock).

So I killed it and restarted Workrave. Now, it detects usage correctly, and no longer has quitting issue.

Therefore, I can say that Workrave behaves correctly when not connected to each other, has detection problem when connected to each other, but no more crashes.

Thanks.</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 8</div><div class=float-left>Paul Walker&nbsp;&nbsp;Jun 7 2012 13:59:03 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>Hi

(In reply to comment #4)
&gt; Could you please check if this build fixes the problem:
&gt; 
&gt; http://snapshots.workrave.org/20120321/workrave-win32-v1_9_906-51-
&gt; g62b587dca6-dirty-20120321-installer.exe
&gt; 
&gt; 
&gt; Thanks!

Fixes the problem for me - it&#39;s not crashing any more, the two Workrave instances connect to each other, and the timers appear to be working correctly.

Though the client ID looks a little odd:

[07/06/2012 12:54:18] Client c52d529eb2a39786b8703eb94fc6381d:27273 is welcoming us.

Is that due to it being a snapshot?

Thanks,
Paul</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 9</div><div class=float-left>Paul Walker&nbsp;&nbsp;Jun 7 2012 14:22:09 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>Hi,

Looks like I spoke too soon - nothing crashes, but the timers are continually running. That seems to be the case whether the two instances are connected or not.

Paul</pre></div></div></div></div><div class="row pb-5"></div></div></div><footer class="container bg-light page-footer"><div class="row my-2"><div class="col-12 col-md text-muted"><img src=/images/workrave-logo.svg alt=Workrave style=width:auto;height:20px>
<small class=d-block>&copy; 2001-2020 Raymond Penners & Rob Caelers</small></div><div class="col-12 col-md text-muted"><small>Unless otherwise stated, all text and images on this website are licensed
under the General Public License version 3 or later.<br>This website is powered by <a href=https://gohugo.io>Hugo</a></small></div></div></footer><script src=https://code.jquery.com/jquery-3.4.1.min.js integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js integrity=sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo crossorigin=anonymous></script>
<script src=https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js integrity=sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6 crossorigin=anonymous></script>
<script type=text/javascript src=https://workrave.org/js/main.min.428d5e8643be5482cc6cf2fb1c80b2e5625f8df018f53d6474a9f4d58668e74c58b35e455ed592b933e43659cc50dc11f452e947f61df3fd7b137161a785b411.js integrity="sha512-Qo1ehkO+VILMbPL7HICy5WJfjfAY9T1kdKn01YZo50xYs15FXtWSuTPkNlnMUNwR9FLpR/Yd8/17E3Fhp4W0EQ=="></script></body></html>