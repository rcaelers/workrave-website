<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=generator content="Hugo 0.109.0"><meta name=robots content="noindex, nofollow"><meta name=description content="Workrave is a program that assists in the recovery and prevention of Repetitive Strain Injury (RSI). The program frequently alerts you to take micro-pauses, rest breaks and restricts you to your daily limit. The program runs on GNU/Linux and Microsoft Windows.
"><link rel="shortcut icon" type=image/x-icon href=/images/favicon.ico><link rel=stylesheet href=https://workrave.org/sass/main.min.ce4ba77d420210f043b2eafed49388defb4f40305be1d398a1ad593d5a932d05.css integrity="sha256-zkunfUICEPBDsur+1JOI3vtPQDBb4dOYoa1ZPVqTLQU=" media=screen><link rel=stylesheet href=https://workrave.org/css/main.min.163e0baf8d5e552480563d39ab81526b5107da66d4ad248880e87497fec53ea8.css integrity="sha256-Fj4Lr41eVSSAVj05q4FSa1EH2mbUrSSIgOh0l/7FPqg=" media=screen><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.7.1/css/all.css integrity=sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr crossorigin=anonymous><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Montserrat:300,400,500&display=swap"><link rel=canonical href=https://workrave.org/bugzilla/338/><title>&#183; Workrave</title></head><body class=bg-light><div class="page-content bg-white"><nav class="navbar fixed-top navbar-expand-lg navbar-light"><div class=container><a class=navbar-brand href=/><img src=/images/workrave-logo.svg alt=Workrave class=page-logo></a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#mainNavBar aria-controls=mainNavBar aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=mainNavBar><ul class="navbar-nav ml-auto"><li class=nav-item><a class="nav-link text-uppercase" href=/about>About</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle text-uppercase" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Get Help</a><div class="dropdown-menu dropdown-menu-right" aria-labelledby=navbarDropdown><a class="dropdown-item text-uppercase" href=/faq/>FAQs</a>
<a class="dropdown-item text-uppercase" href=/docs/>Documentation</a>
<a class="dropdown-item text-uppercase" href=/support/>Support</a></div></li><li class=nav-item><a class="nav-link text-uppercase" href=/contribute>Contribute</a></li><li class=nav-item><a class="nav-link text-uppercase" href=/download/>Downloads</a></li><li class=nav-item><a class="nav-link text-uppercase" href=/blog/>Blog</a></li></ul></div></div></nav><div class="jumbotron jumbotron-fluid banner-style-small"></div><div class="container-lg mt-5 bugzilla" style=max-width:1280px><div class=row><div class="h3 col-md-12 bg-light font-weight-bold">Bug&nbsp;338 - Crash under Linux when rest button is pressed</div></div><div class="row py-5"><div class=col-6><div class=row><div class="col-4 text-right font-weight-bold">Status:</div><div class=col-8>RESOLVED FIXED</div></div><div class=row><div class="col-4 text-right font-weight-bold">Component:</div><div class=col-8>GUI :: gtkmm</div></div><div class=row><div class="col-4 text-right font-weight-bold">Version:</div><div class=col-8>1.4.1</div></div><div class=row><div class="col-4 text-right font-weight-bold">Hardware:</div><div class=col-8>PC Linux</div></div><div class=row><div class="col-4 text-right font-weight-bold">Importance:</div><div class=col-8>P2 normal</div></div><div class=row><div class="col-4 text-right font-weight-bold">Target Milestone:</div><div class=col-8>---</div></div><div class=row><div class="col-4 text-right font-weight-bold">Assignee:</div><div class=col-8>Rob Caelers</div></div><div class=row><div class="col-4 text-right font-weight-bold">URL:</div><div class=col-8></div></div><div class=row><div class="col-4 text-right font-weight-bold">Depends on:</div><div class=col-8></div></div><div class=row><div class="col-4 text-right font-weight-bold">Blocks:</div><div class=col-8></div></div></div><div class=col-6><div class=row><div class="col-4 text-right font-weight-bold">Reported:</div><div class=col-8>Dec 4 2003 00:01:39 UTC</div></div><div class=row><div class="col-4 text-right font-weight-bold">by:</div><div class=col-8>Andris Pavenis</div></div><div class=row><div class="col-4 text-right font-weight-bold">Modified:</div><div class=col-8>Dec 4 2003 10:04:26 UTC</div></div></div></div><div class="row pb-4"><div class=col-12><div class=card><h5 class="card-header p-1" id=history-header><button class="btn btn-light collapsed w-100 text-left" type=button data-toggle=collapse data-target=#history-content aria-expanded=false aria-controls=history-content>
<i class="fa fa-chevron-down pull-right"></i>&nbsp;history</button></h5><div class="collapse p-0" id=history-content aria-labelledby=history-header><div class="card-body p-0"><table class="table table-dark table-bordered mb-0"><thead><tr><th scope=col>Who</th><th scope=col>When</th><th scope=col>What</th><th scope=col>Removed</th><th scope=col>Added</th></tr></thead><tbody><tr><th scope=row rowspan=2>Rob Caelers</th><td rowspan=2>Dec 4 2003 10:04:26 UTC</td><td>status</td><td>NEW</td><td>RESOLVED</td></tr><tr><td>resolution</td><td></td><td>FIXED</td></tr></tbody></table></div></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Description</div><div class=float-left>Andris Pavenis&nbsp;&nbsp;Dec 4 2003 00:01:39 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>Workrave-1.4.1 crash under Linux (Slackware-current, KDE-3.2-beta2 from CVS),
when button
for making rest is pressed. It also often crashes in applet mode. The following
small
patch seems to fix it:

--- workrave-1.4.1/src/app/gtkmm/RestBreakWindow.cc~1   2003-10-30
21:52:45.000000000 &#43;0200
&#43;&#43;&#43; workrave-1.4.1/src/app/gtkmm/RestBreakWindow.cc     2003-12-02
16:09:15.000000000 &#43;0200
@@ -112,8 &#43;112,8 @@ void
 RestBreakWindow::start()
 {
   TRACE_ENTER(&#34;RestBreakWindow::start&#34;);
-#ifdef HAVE_EXERCISES
   init_gui();
&#43;#ifdef HAVE_EXERCISES
   if (get_exercise_count() &gt; 0)
     {
       install_exercises_panel();


Below is backtrace from GDB, which I got from this crash.

Andris


GNU gdb 6.0
Copyright 2003 Free Software Foundation, Inc.
GDB is free software, covered by the GNU General Public License, and you are
welcome to change it and/or distribute copies of it under certain conditions.
Type &#34;show copying&#34; to see the conditions.
There is absolutely no warranty for GDB.  Type &#34;show warranty&#34; for details.
This GDB was configured as &#34;i486-slackware-linux&#34;...
(gdb) r
Starting program: /disk2/src/misc/workrawe/workrave-1.4.1/src/app/gtkmm/workrave
[New Thread 16384 (LWP 15199)]
[New Thread 32769 (LWP 15413)]
[New Thread 16386 (LWP 15414)]
audio_alsa: no cards found!

Program received signal SIGSEGV, Segmentation fault.
[Switching to Thread 16384 (LWP 15199)]
TimeBar::set_progress(int, int) (this=0x0, value=0, max_value=0) at TimeBar.cc:264
264       bar_value = value;
(gdb) where
#0  TimeBar::set_progress(int, int) (this=0x0, value=0, max_value=0)
    at TimeBar.cc:264
#1  0x0808856b in RestBreakWindow::draw_time_bar() (this=0x81bb648)
    at RestBreakWindow.cc:156
#2  0x08088520 in RestBreakWindow::start() (this=0x81bb648)
    at RestBreakWindow.cc:128
#3  0x0807dbd0 in GUI::start_break_window(BreakId, bool) (this=0x81012d8,
    break_id=BREAK_ID_REST_BREAK, ignorable=true) at GUI.cc:846
#4  0x080b8317 in BreakControl::break_window_start() (this=0x8154bf0)
    at BreakControl.cc:648
#5  0x080b7fb0 in BreakControl::goto_stage(BreakControl::BreakStage) (
    this=0x8154bf0, stage=STAGE_TAKING) at BreakControl.cc:298
#6  0x080b817c in BreakControl::force_start_break() (this=0x8154bf0)
    at BreakControl.cc:445
#7  0x080a194a in Core::force_break(BreakId) (this=0x8147860,
    id=BREAK_ID_REST_BREAK) at Core.cc:455
#8  0x0807cc6f in GUI::restbreak_now() (this=0x0) at GUI.cc:173
#9  0x08094c8b in SigC::ObjectSlot0_&lt;void, Menus&gt;::proxy(void*) (s=0x0)
    at object_slot.h:62
#10 0x40c1fc65 in Glib::SignalProxyNormal::slot0_void_callback(_GObject*, void*) ()
   from /usr/lib/libglibmm-2.0.so.1
#11 0x407b2751 in g_cclosure_marshal_VOID__VOID () from /usr/lib/libgobject-2.0.so.0
#12 0x4079d2e0 in g_closure_invoke () from /usr/lib/libgobject-2.0.so.0
#13 0x407b2075 in g_signal_emit_by_name () from /usr/lib/libgobject-2.0.so.0
#14 0x407b11b7 in g_signal_emit_valist () from /usr/lib/libgobject-2.0.so.0
#15 0x407b14b4 in g_signal_emit () from /usr/lib/libgobject-2.0.so.0
#16 0x40365a5b in gtk_button_clicked () from /usr/lib/libgtk-x11-2.0.so.0
#17 0x40366a4b in _gtk_button_paint () from /usr/lib/libgtk-x11-2.0.so.0
#18 0x40a1b299 in Gtk::Button_Class::released_callback(_GtkButton*) ()
   from /usr/lib/libgtkmm-2.0.so.1
#19 0x407b2751 in g_cclosure_marshal_VOID__VOID () from /usr/lib/libgobject-2.0.so.0
#20 0x4079d677 in g_cclosure_new_swap () from /usr/lib/libgobject-2.0.so.0
#21 0x4079d2e0 in g_closure_invoke () from /usr/lib/libgobject-2.0.so.0
#22 0x407b1a3e in g_signal_emit_by_name () from /usr/lib/libgobject-2.0.so.0
#23 0x407b11b7 in g_signal_emit_valist () from /usr/lib/libgobject-2.0.so.0
#24 0x407b14b4 in g_signal_emit () from /usr/lib/libgobject-2.0.so.0
#25 0x4036599b in gtk_button_released () from /usr/lib/libgtk-x11-2.0.so.0
#26 0x403668cb in _gtk_button_paint () from /usr/lib/libgtk-x11-2.0.so.0
#27 0x40aaa8a2 in Gtk::Widget_Class::button_release_event_callback(_GtkWidget*,
_GdkEventButton*) () from /usr/lib/libgtkmm-2.0.so.1
#28 0x403f110f in _gtk_marshal_BOOLEAN__BOXED () from /usr/lib/libgtk-x11-2.0.so.0
#29 0x4079d677 in g_cclosure_new_swap () from /usr/lib/libgobject-2.0.so.0
#30 0x4079d2e0 in g_closure_invoke () from /usr/lib/libgobject-2.0.so.0
#31 0x407b1c35 in g_signal_emit_by_name () from /usr/lib/libgobject-2.0.so.0
#32 0x407b0f8e in g_signal_emit_valist () from /usr/lib/libgobject-2.0.so.0
#33 0x407b14b4 in g_signal_emit () from /usr/lib/libgobject-2.0.so.0
#34 0x404d764b in gtk_widget_send_expose () from /usr/lib/libgtk-x11-2.0.so.0
#35 0x403f0f07 in gtk_propagate_event () from /usr/lib/libgtk-x11-2.0.so.0
#36 0x403efc05 in gtk_main_do_event () from /usr/lib/libgtk-x11-2.0.so.0
#37 0x405aeef5 in _gdk_events_queue () from /usr/lib/libgdk-x11-2.0.so.0
#38 0x407fe21d in unblock_source () from /usr/lib/libglib-2.0.so.0
#39 0x407ff2e8 in g_main_context_dispatch () from /usr/lib/libglib-2.0.so.0
#40 0x407ff61f in g_main_context_dispatch () from /usr/lib/libglib-2.0.so.0
#41 0x407ffd81 in g_main_loop_run () from /usr/lib/libglib-2.0.so.0
#42 0x403ef43f in gtk_main () from /usr/lib/libgtk-x11-2.0.so.0
#43 0x40a4c249 in Gtk::Main::run_impl() () from /usr/lib/libgtkmm-2.0.so.1
#44 0x40a4bfe4 in Gtk::Main::run() () from /usr/lib/libgtkmm-2.0.so.1
#45 0x0807ccd7 in GUI::main() (this=0x81012d8) at GUI.cc:215
#46 0x08098f11 in run (argc=1, argv=0xbffff6c4) at main.cc:44
#47 0x40d6b916 in __libc_start_main () from /lib/libc.so.6
#48 0x08079ca1 in _start ()</pre></div></div></div></div><div class="row pb-5"></div></div></div><footer class="container bg-light page-footer"><div class="row my-2"><div class="col-12 col-md text-muted"><img src=/images/workrave-logo.svg alt=Workrave style=width:auto;height:20px>
<small class=d-block>&copy; 2001-2020 Raymond Penners & Rob Caelers</small></div><div class="col-12 col-md text-muted"><small>Unless otherwise stated, all text and images on this website are licensed
under the General Public License version 3 or later.<br>This website is powered by <a href=https://gohugo.io>Hugo</a></small></div></div></footer><script src=https://code.jquery.com/jquery-3.4.1.min.js integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js integrity=sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo crossorigin=anonymous></script>
<script src=https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js integrity=sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6 crossorigin=anonymous></script>
<script type=text/javascript src=https://workrave.org/js/main.min.428d5e8643be5482cc6cf2fb1c80b2e5625f8df018f53d6474a9f4d58668e74c58b35e455ed592b933e43659cc50dc11f452e947f61df3fd7b137161a785b411.js integrity="sha512-Qo1ehkO+VILMbPL7HICy5WJfjfAY9T1kdKn01YZo50xYs15FXtWSuTPkNlnMUNwR9FLpR/Yd8/17E3Fhp4W0EQ=="></script></body></html>