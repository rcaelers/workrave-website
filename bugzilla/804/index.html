<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=generator content="Hugo 0.109.0"><meta name=robots content="noindex, nofollow"><meta name=description content="Workrave is a program that assists in the recovery and prevention of Repetitive Strain Injury (RSI). The program frequently alerts you to take micro-pauses, rest breaks and restricts you to your daily limit. The program runs on GNU/Linux and Microsoft Windows.
"><link rel="shortcut icon" type=image/x-icon href=/images/favicon.ico><link rel=stylesheet href=https://workrave.org/sass/main.min.ce4ba77d420210f043b2eafed49388defb4f40305be1d398a1ad593d5a932d05.css integrity="sha256-zkunfUICEPBDsur+1JOI3vtPQDBb4dOYoa1ZPVqTLQU=" media=screen><link rel=stylesheet href=https://workrave.org/css/main.min.163e0baf8d5e552480563d39ab81526b5107da66d4ad248880e87497fec53ea8.css integrity="sha256-Fj4Lr41eVSSAVj05q4FSa1EH2mbUrSSIgOh0l/7FPqg=" media=screen><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.7.1/css/all.css integrity=sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr crossorigin=anonymous><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Montserrat:300,400,500&display=swap"><link rel=canonical href=https://workrave.org/bugzilla/804/><title>&#183; Workrave</title></head><body class=bg-light><div class="page-content bg-white"><nav class="navbar fixed-top navbar-expand-lg navbar-light"><div class=container><a class=navbar-brand href=/><img src=/images/workrave-logo.svg alt=Workrave class=page-logo></a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#mainNavBar aria-controls=mainNavBar aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=mainNavBar><ul class="navbar-nav ml-auto"><li class=nav-item><a class="nav-link text-uppercase" href=/about>About</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle text-uppercase" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Get Help</a><div class="dropdown-menu dropdown-menu-right" aria-labelledby=navbarDropdown><a class="dropdown-item text-uppercase" href=/faq/>FAQs</a>
<a class="dropdown-item text-uppercase" href=/docs/>Documentation</a>
<a class="dropdown-item text-uppercase" href=/support/>Support</a></div></li><li class=nav-item><a class="nav-link text-uppercase" href=/contribute>Contribute</a></li><li class=nav-item><a class="nav-link text-uppercase" href=/download/>Downloads</a></li><li class=nav-item><a class="nav-link text-uppercase" href=/blog/>Blog</a></li></ul></div></div></nav><div class="jumbotron jumbotron-fluid banner-style-small"></div><div class="container-lg mt-5 bugzilla" style=max-width:1280px><div class=row><div class="h3 col-md-12 bg-light font-weight-bold">Bug&nbsp;804 - Workrave timers don't work in Kubuntu Jaunty</div></div><div class="row py-5"><div class=col-6><div class=row><div class="col-4 text-right font-weight-bold">Status:</div><div class=col-8>RESOLVED FIXED</div></div><div class=row><div class="col-4 text-right font-weight-bold">Component:</div><div class=col-8>Core</div></div><div class=row><div class="col-4 text-right font-weight-bold">Version:</div><div class=col-8>1.9.0</div></div><div class=row><div class="col-4 text-right font-weight-bold">Hardware:</div><div class=col-8>PC Linux</div></div><div class=row><div class="col-4 text-right font-weight-bold">Importance:</div><div class=col-8>P5 blocker</div></div><div class=row><div class="col-4 text-right font-weight-bold">Target Milestone:</div><div class=col-8>---</div></div><div class=row><div class="col-4 text-right font-weight-bold">Assignee:</div><div class=col-8>Rob Caelers</div></div><div class=row><div class="col-4 text-right font-weight-bold">URL:</div><div class=col-8></div></div><div class=row><div class="col-4 text-right font-weight-bold">Depends on:</div><div class=col-8></div></div><div class=row><div class="col-4 text-right font-weight-bold">Blocks:</div><div class=col-8></div></div></div><div class=col-6><div class=row><div class="col-4 text-right font-weight-bold">Reported:</div><div class=col-8>Dec 29 2008 02:18:07 UTC</div></div><div class=row><div class="col-4 text-right font-weight-bold">by:</div><div class=col-8>naught101</div></div><div class=row><div class="col-4 text-right font-weight-bold">Modified:</div><div class=col-8>Jun 29 2009 17:11:50 UTC</div></div><div class=row><div class="col-4 text-right font-weight-bold">CC List:</div><div class=col-8>eo**@ge**.ie</div></div><div class=row><div class="col-4 text-right font-weight-bold"></div><div class=col-8>David</div></div></div></div><div class="row pb-4"><div class=col-12><div class=card><h5 class="card-header p-1" id=attachments-header><button class="btn btn-light collapsed w-100 text-left" type=button data-toggle=collapse data-target=#attachments-content aria-expanded=false aria-controls=attachments-content>
<i class="fa fa-chevron-down pull-right"></i>&nbsp;Attachments</button></h5><div class=collapse id=attachments-content aria-labelledby=attachments-header><div class="card-body p-0"><table class="table table-dark table-bordered mb-0"><thead><tr><th scope=col>Id</th><th scope=col>Who</th><th scope=col>When</th><th scope=col>Size</th><th scope=col>Type</th></tr></thead><tbody><tr><th scope=row rowspan=2>160</th><td colspan=4><a href=https://workrave.org/bugzilla/attachments/attachment-160.txt>workrave stderr output with --enable-debug</a><tr><td>naught101</td><td>Dec 29 2008 02:18:07 UTC</td><td>57847</td><td>text/plain</td></tr></tbody></table></div></div></div></div></div><div class="row pb-4"><div class=col-12><div class=card><h5 class="card-header p-1" id=history-header><button class="btn btn-light collapsed w-100 text-left" type=button data-toggle=collapse data-target=#history-content aria-expanded=false aria-controls=history-content>
<i class="fa fa-chevron-down pull-right"></i>&nbsp;history</button></h5><div class="collapse p-0" id=history-content aria-labelledby=history-header><div class="card-body p-0"><table class="table table-dark table-bordered mb-0"><thead><tr><th scope=col>Who</th><th scope=col>When</th><th scope=col>What</th><th scope=col>Removed</th><th scope=col>Added</th></tr></thead><tbody><tr><th scope=row rowspan=1>Rob Caelers</th><td rowspan=1>Dec 29 2008 11:48:54 UTC</td><td>severity</td><td>enhancement</td><td>normal</td></tr><tr><th scope=row rowspan=1>naught101</th><td rowspan=1>Jan 13 2009 23:49:12 UTC</td><td>severity</td><td>normal</td><td>blocker</td></tr><tr><th scope=row rowspan=1>Rob Caelers</th><td rowspan=1>Jan 24 2009 13:34:40 UTC</td><td>status</td><td>NEW</td><td>ASSIGNED</td></tr><tr><th scope=row rowspan=2>Rob Caelers</th><td rowspan=2>Jan 26 2009 23:08:12 UTC</td><td>status</td><td>ASSIGNED</td><td>RESOLVED</td></tr><tr><td>resolution</td><td></td><td>FIXED</td></tr><tr><th scope=row rowspan=1>Rob Caelers</th><td rowspan=1>May 4 2009 20:33:28 UTC</td><td>cc</td><td></td><td>David</td></tr><tr><th scope=row rowspan=1>eo**@ge**.ie</th><td rowspan=1>Jun 29 2009 17:11:50 UTC</td><td>cc</td><td></td><td>eo**@ge**.ie</td></tr></tbody></table></div></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Description</div><div class=float-left>naught101&nbsp;&nbsp;Dec 29 2008 02:18:07 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>Created attachment 160
workrave stderr output with --enable-debug

Workrave timers sit completely still in kubuntu jaunty. They worked fine in Intrepid.

launchpad bug report here: https://bugs.launchpad.net/ubuntu/&#43;source/workrave/&#43;bug/310551

I recompiled from source, using --enable-debug, and trying --enable-dbus (made no difference). I tried --enable-kde, but that requires kdelibs4-dev, which means I need to uninstall half my system...

The stderr output is attached.</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 1</div><div class=float-left>Rob Caelers&nbsp;&nbsp;Dec 29 2008 11:48:54 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>The debug log indicates that you are idle all the time. Did you set the operation mode to &#39;suspended&#39;? (look in the mode menu)

If not: What is the output of &#34;xdpyinfo -queryExtensions | grep RECORD&#34;

This should output something like: &#34;RECORD  (opcode: 143, base error: 165)&#34;</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 2</div><div class=float-left>naught101&nbsp;&nbsp;Dec 29 2008 12:05:25 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>Nope, in normal mode.

$ xdpyinfo -queryExtensions | grep RECORD
    RECORD  (opcode: 135, base error: 144)

$ uname -a
Linux naught101-laptop 2.6.28-4-generic #5-Ubuntu SMP Fri Dec 26 22:48:51 UTC 2008 i686 GNU/Linux</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 3</div><div class=float-left>Rob Caelers&nbsp;&nbsp;Jan 6 2009 19:52:45 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>I managed to reproduce the bug (using kubuntu jaunty installed in virtualbox).

It seems that Workrave does not get any events from the xrecord extension (except for &#39;start of data&#39;). the xmacro package has the same problem: the xmacrorec2 program also does not get any data from xrecord.

I think the problem is caused by the recent xserver upgrade: my development PC, running Ubuntu Jaunty with out xserver upgrade, does not have this problem.</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 4</div><div class=float-left>naught101&nbsp;&nbsp;Jan 13 2009 23:49:12 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>Changing to blocker, since this bug makes workrave completely useless (I&#39;m guessing that this is a permanent change in the xserver?). Is there anything I can do to help figure out a fix?</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 5</div><div class=float-left>Rob Caelers&nbsp;&nbsp;Jan 19 2009 22:15:47 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>The easiest workaround for now: uninstall libxtst-dev and reconfigure/recompile workrave. 

I did some googling, couldn&#39;t find any known issies with xrecord... needs further investigation.</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 6</div><div class=float-left>naught101&nbsp;&nbsp;Jan 21 2009 00:03:17 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>hrm.. I removed libxtst-dev, and recompiled with:
./autogen-sh
./configuring
make
sudo checkinstall

I still have the same problem. Is there any particular options I should be configuring with?</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 7</div><div class=float-left>Rob Caelers&nbsp;&nbsp;Jan 21 2009 20:24:15 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>Weird...

try this then:

after running configure. edit config.h.

comment out the following lines

/* Define if the RECORD extension is available */
#define HAVE_XRECORD</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 8</div><div class=float-left>naught101&nbsp;&nbsp;Jan 22 2009 04:29:16 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>Rob, sorry for that last comment, I didn&#39;t realise, but libxtst hadn&#39;t uninstalled. I uninstalled it, and now workrave is working fine. 

Thanks so much, workrave is one of those vital pieces of software. It&#39;s easy to take for granted, until it goes missing...

I won&#39;t set the bug to resolved, since I&#39;m not sure.</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 9</div><div class=float-left>Rob Caelers&nbsp;&nbsp;Jan 24 2009 13:34:40 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>I finally found the problem: This X server no longer reports &#34;core event&#34; (like KeyPressed) through the record extension. Workrave now also intercepts device events from the XInputExtention (like DeviceKeyPressed).

This fix is not yet final. (I need to verify that Workrave still behaves normally on older X servers. I expect duplicate event that mess up the statistics...) 

The fix is in my git repository:

http://cgit.krandor.org/cgit.cgi?url=workrave/commit/&amp;h=branch_v1_9&amp;id=33f01a179da87e27dca3d57662872ef7077efb22</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 10</div><div class=float-left>Rob Caelers&nbsp;&nbsp;Jan 26 2009 23:08:12 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>Fix tested and commited</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 11</div><div class=float-left>Rob Caelers&nbsp;&nbsp;May 4 2009 20:33:28 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>*** Bug 830 has been marked as a duplicate of this bug. ***</pre></div></div></div></div><div class="row pt-2"><div class=col-12><div class=card><div class="card-header h4 p-2"><div class=float-right>Comment 12</div><div class=float-left>eo**@ge**.ie&nbsp;&nbsp;Jun 29 2009 17:11:50 UTC</div></div><div class="card-body p-2"><pre style=white-space:pre-wrap>I tried the autogen.sh from the git download, but get the error:

checking for DBUS... no
configure: Couldn&#39;t find d-bus.

I&#39;m drawing a blank with google on this - any ideas?</pre></div></div></div></div><div class="row pb-5"></div></div></div><footer class="container bg-light page-footer"><div class="row my-2"><div class="col-12 col-md text-muted"><img src=/images/workrave-logo.svg alt=Workrave style=width:auto;height:20px>
<small class=d-block>&copy; 2001-2020 Raymond Penners & Rob Caelers</small></div><div class="col-12 col-md text-muted"><small>Unless otherwise stated, all text and images on this website are licensed
under the General Public License version 3 or later.<br>This website is powered by <a href=https://gohugo.io>Hugo</a></small></div></div></footer><script src=https://code.jquery.com/jquery-3.4.1.min.js integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js integrity=sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo crossorigin=anonymous></script>
<script src=https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js integrity=sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6 crossorigin=anonymous></script>
<script type=text/javascript src=https://workrave.org/js/main.min.428d5e8643be5482cc6cf2fb1c80b2e5625f8df018f53d6474a9f4d58668e74c58b35e455ed592b933e43659cc50dc11f452e947f61df3fd7b137161a785b411.js integrity="sha512-Qo1ehkO+VILMbPL7HICy5WJfjfAY9T1kdKn01YZo50xYs15FXtWSuTPkNlnMUNwR9FLpR/Yd8/17E3Fhp4W0EQ=="></script></body></html>